
apps/__init__.py,0

apps/mentions/migrations/0033_auto_20160422_0346.py,1497
class Migration(migrations.Migration):Migration9,189
    dependencies = [dependencies11,229
    operations = [operations15,306
            name='category',name17,363
            options={'ordering': ('name', 'code'), 'verbose_name': 'Industry', 'verbose_name_plural': 'Industries'},options18,392
            name='merchant',name21,558
            options={'ordering': ('official_name',), 'verbose_name': 'Merchant', 'verbose_name_plural': 'Merchants'},options22,587
            model_name='mention',model_name25,747
            name='merchant',name26,781
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='mentions', to='mentions.Merchant'),field27,810
            model_name='merchant',model_name30,1006
            name='category',name31,1041
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='merchants', to='mentions.Category'),field32,1070
            model_name='rating',model_name35,1267
            name='merchant',name36,1300
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ratings', to='mentions.Merchant'),field37,1329
            model_name='todo',model_name40,1501
            name='mention',name41,1532
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='todo', to='mentions.Mention'),field42,1560

apps/mentions/migrations/0021_auto_20160315_0135.py,609
class Migration(migrations.Migration):Migration10,203
    dependencies = [dependencies12,243
    operations = [operations16,320
            model_name='rating',model_name18,368
            name='created',name19,401
            field=model_utils.fields.AutoCreatedField(default=django.utils.timezone.now, editable=False, verbose_name='created'),field20,429
            model_name='rating',model_name23,599
            name='modified',name24,632
            field=model_utils.fields.AutoLastModifiedField(default=django.utils.timezone.now, editable=False, verbose_name='modified'),field25,661

apps/mentions/migrations/0007_auto_20160210_0954.py,309
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies9,195
    operations = [operations13,267
            model_name='todo',model_name15,317
            name='priority',name16,348
            field=models.CharField(blank=True, choices=[('high', 'high'),field17,377

apps/mentions/migrations/0031_auto_20160407_0738.py,282
def update_mcc(apps, shema_editor):update_mcc12,228
class Migration(migrations.Migration):Migration60,1552
    dependencies = [dependencies62,1592
    operations = [operations66,1669
                             reverse_code=migrations.RunPython.noop),reverse_code68,1730

apps/mentions/migrations/0028_auto_20160328_0401.py,590
class Migration(migrations.Migration):Migration9,189
    dependencies = [dependencies11,229
    operations = [operations15,306
            model_name='temporaryresults',model_name17,354
            name='semantria_responce',name18,397
            field=models.TextField(blank=True, null=True),field19,436
            model_name='temporaryresults',model_name22,537
            name='merchant',name23,580
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='temp_results', to='mentions.Merchant'),field24,609

apps/mentions/migrations/0022_auto_20160318_0733.py,473
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='rating',model_name17,322
            name='month',name18,355
            field=models.PositiveSmallIntegerField(blank=True, null=True),field19,381
            model_name='rating',model_name22,498
            name='week',name23,531
            field=models.IntegerField(blank=True, null=True),field24,556

apps/mentions/migrations/__init__.py,0

apps/mentions/migrations/0003_auto_20160204_0429.py,235
class Migration(migrations.Migration):Migration8,148
    dependencies = [dependencies9,187
    operations = [operations13,264
            name='mention',name15,321
            options={'ordering': ('-created',),options16,349

apps/mentions/migrations/0006_todo_due_date.py,299
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,268
            model_name='todo',model_name16,316
            name='due_date',name17,347
            field=models.DateTimeField(blank=True, null=True),field18,376

apps/mentions/migrations/0022_auto_20160317_0735.py,308
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies9,195
    operations = [operations13,272
            model_name='category',model_name15,320
            name='code',name16,355
            field=models.CharField(max_length=16, blank=True, null=True,field17,380

apps/mentions/migrations/0029_auto_20160328_0804.py,613
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='category',model_name17,324
            name='name',name18,359
            field=models.CharField(db_index=True, max_length=255, null=True),field19,384
            model_name='merchant',model_name22,504
            name='official_name',name23,539
            field=models.CharField(db_index=True, max_length=255),field24,573
            name='mention',name31,813
            index_together=set([('merchant', 'status')]),index_together32,841

apps/mentions/migrations/0010_auto_20160301_0638.py,1123
class Migration(migrations.Migration):Migration10,223
    dependencies = [dependencies12,263
    operations = [operations16,340
            model_name='merchant',model_name18,388
            name='phone',name19,423
            field=django.contrib.postgres.fields.ArrayField(base_field=localflavor.us.models.PhoneNumberField(max_length=20), blank=True, null=True, size=2),field20,449
            model_name='merchant',model_name23,647
            name='product',name24,682
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=255), blank=True, null=True, size=None),field25,710
            model_name='merchant',model_name28,890
            name='short_name',name29,925
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=255), blank=True, null=True, size=3),field30,956
            model_name='merchant',model_name33,1133
            name='web_page',name34,1168
            field=django.contrib.postgres.fields.ArrayField(base_field=models.URLField(), blank=True, null=True, size=None),field35,1197

apps/mentions/migrations/0019_auto_20160314_1013.py,609
class Migration(migrations.Migration):Migration10,203
    dependencies = [dependencies12,243
    operations = [operations16,320
            model_name='rating',model_name19,369
            name='created',name20,402
            field=model_utils.fields.AutoCreatedField(default=django.utils.timezone.now, editable=False, verbose_name='created'),field21,430
            model_name='rating',model_name24,600
            name='modified',name25,633
            field=model_utils.fields.AutoLastModifiedField(default=django.utils.timezone.now, editable=False, verbose_name='modified'),field26,662

apps/mentions/migrations/0008_auto_20160210_1002.py,385
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies9,195
    operations = [operations13,272
            model_name='todo',model_name15,322
            name='priority',name16,353
            field=models.SmallIntegerField(blank=True,field17,382
                                           choices=[(0, 'high'), (1, 'middle'),choices18,437

apps/mentions/migrations/0016_auto_20160309_1036.py,471
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='rating',model_name17,322
            name='open_todo',name18,355
            field=models.IntegerField(blank=True, null=True),field19,385
            model_name='rating',model_name22,487
            name='solved_todo',name23,520
            field=models.IntegerField(blank=True, null=True),field24,552

apps/mentions/migrations/0037_auto_20160805_0840.py,886
class Migration(migrations.Migration):Migration10,238
    dependencies = [dependencies12,278
    operations = [operations16,355
            model_name='merchant',model_name18,403
            name='sources',name19,438
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(blank=True, max_length=32), blank=True, default=['www.yelp.com', 'www.facebook.com', 'plus.google.com', 'www.ripoffreport.com', 'www.bbb.org'], null=True, size=None),field20,466
            model_name='mention',model_name23,763
            name='origin_site',name24,797
            field=models.CharField(blank=True, choices=[('www.yelp.com', 'www.yelp.com'), ('www.facebook.com', 'www.facebook.com'), ('plus.google.com', 'plus.google.com'), ('www.ripoffreport.com', 'www.ripoffreport.com'), ('www.bbb.org', 'www.bbb.org')], max_length=32, null=True),field25,829

apps/mentions/migrations/0032_auto_20160412_0601.py,292
def unfold_categories(apps, shema_editor):unfold_categories12,228
class Migration(migrations.Migration):Migration30,766
    dependencies = [dependencies32,806
    operations = [operations36,883
                             reverse_code=migrations.RunPython.noop),reverse_code38,950

apps/mentions/migrations/0036_auto_20160803_0554.py,336
class Migration(migrations.Migration):Migration9,200
    dependencies = [dependencies11,240
    operations = [operations15,317
            model_name='merchant',model_name17,365
            name='search_settings',name18,400
            field=django.contrib.postgres.fields.jsonb.JSONField(blank=True, null=True),field19,436

apps/mentions/migrations/0023_merge.py,133
class Migration(migrations.Migration):Migration8,148
    dependencies = [dependencies10,188
    operations = [operations15,314

apps/mentions/migrations/0034_auto_20160429_0536.py,440
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='mention',model_name17,322
            name='text_hash',name18,356
            field=models.CharField(blank=True, max_length=255, null=True),field19,386
            name='mention',name23,513
            unique_together=set([('merchant', 'text_hash')]),unique_together24,541

apps/mentions/migrations/0016_auto_20160309_0223.py,247
class Migration(migrations.Migration):Migration10,227
    dependencies = [dependencies12,267
    operations = [operations17,390
            name='Tracker',name19,441
            fields=[fields20,469
            options={options28,1156

apps/mentions/migrations/0018_auto_20160313_0255.py,1613
class Migration(migrations.Migration):Migration9,189
    dependencies = [dependencies11,229
    operations = [operations15,293
            model_name='rating',model_name18,344
            name='mentions_count',name19,377
            field=models.IntegerField(default=0),field20,412
            model_name='rating',model_name23,504
            name='neg_mentions',name24,537
            field=models.IntegerField(default=0),field25,570
            model_name='rating',model_name28,662
            name='open_todo',name29,695
            field=models.IntegerField(default=0),field30,725
            model_name='rating',model_name33,817
            name='pos_mentions',name34,850
            field=models.IntegerField(default=0),field35,883
            model_name='rating',model_name38,975
            name='solved_todo',name39,1008
            field=models.IntegerField(default=0),field40,1040
            model_name='tracker',model_name43,1132
            name='account',name44,1166
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='trackers', to='users.Account'),field45,1194
            model_name='tracker',model_name48,1363
            name='merchant',name49,1397
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='trackers', to='mentions.Merchant'),field50,1426
            model_name='rating',model_name53,1600
            name='solved_complaints',name54,1633
            model_name='rating',model_name57,1714
            name='unresolved_complaints',name58,1747

apps/mentions/migrations/0035_auto_20160601_0351.py,913
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='mention',model_name16,323
            name='origin_site',name17,357
            field=models.CharField(blank=True, choices=[('www.yelp.com', 'www.yelp.com'), ('www.facebook.com', 'www.facebook.com'), ('www.ripoffreport.com', 'www.ripoffreport.com'), ('plus.google.com', 'plus.google.com'), ('www.bbb.org', 'www.bbb.org')], max_length=25, null=True),field18,389
            model_name='merchant',model_name21,713
            name='exclude_words',name22,748
            field=models.CharField(blank=True, help_text='Comma-separated', max_length=255, null=True),field23,782
            model_name='todo',model_name26,928
            name='is_closed',name27,959
            field=models.BooleanField(db_index=True, default=False),field28,989

apps/mentions/migrations/0020_auto_20160315_0131.py,316
class Migration(migrations.Migration):Migration8,148
    dependencies = [dependencies10,188
    operations = [operations14,265
            model_name='rating',model_name16,316
            name='created',name17,349
            model_name='rating',model_name20,420
            name='modified',name21,453

apps/mentions/migrations/0005_todo_priority.py,385
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies9,195
    operations = [operations13,272
            model_name='todo',model_name15,320
            name='priority',name16,351
            field=models.SmallIntegerField(blank=True,field17,380
                                           choices=[(0, 'high'), (1, 'middle'),choices18,435

apps/mentions/migrations/0027_auto_20160325_0744.py,256
class Migration(migrations.Migration):Migration11,244
    dependencies = [dependencies13,284
    operations = [operations17,361
            name='TemporaryResults',name19,412
            fields=[fields20,449
            options={options27,1119

apps/mentions/migrations/0026_auto_20160324_0436.py,372
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies9,195
    operations = [operations13,259
            model_name='category',model_name15,309
            name='code',name16,344
            field=models.CharField(max_length=16, null=True,field17,369
                                   verbose_name='MCC'),verbose_name18,430

apps/mentions/migrations/0014_merchant_ceo.py,398
class Migration(migrations.Migration):Migration9,194
    dependencies = [dependencies11,234
    operations = [operations15,311
            model_name='merchant',model_name17,359
            name='ceo',name18,394
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(blank=True, max_length=255, null=True), blank=True, null=True, size=None),field19,418

apps/mentions/migrations/0015_auto_20160302_0522.py,299
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,267
            model_name='merchant',model_name17,316
            name='location',name18,351
            field=models.TextField(blank=True, null=True),field19,380

apps/mentions/migrations/0004_auto_20160205_0721.py,496
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            name='mention',name16,330
            options={'ordering': ('-created',)},options17,358
            name='todo',name20,456
            options={'ordering': ('-created',)},options21,481
            model_name='todo',model_name24,570
            name='is_closed',name25,601
            field=models.BooleanField(default=False),field26,631

apps/mentions/migrations/0009_auto_20160301_0637.py,727
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='merchant',model_name16,324
            name='phone',name17,359
            model_name='merchant',model_name20,428
            name='product',name21,463
            model_name='merchant',model_name24,534
            name='short_name',name25,569
            model_name='merchant',model_name28,643
            name='web_page',name29,678
            model_name='todo',model_name32,749
            name='priority',name33,780
            field=models.SmallIntegerField(blank=True, choices=[(0, 'High'), (1, 'Middle'), (2, 'Low')], null=True),field34,809

apps/mentions/migrations/0024_auto_20160322_0642.py,783
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,260
            model_name='category',model_name17,311
            name='code',name18,346
            field=models.PositiveSmallIntegerField(null=True, unique=True, verbose_name='SIC'),field19,371
            model_name='category',model_name22,509
            name='name',name23,544
            field=models.CharField(max_length=100, null=True),field24,569
            model_name='mention',model_name27,674
            name='mention_text',name28,708
            field=models.TextField(null=True),field29,741
            name='mention',name32,839
            unique_together=set([('merchant', 'mention_text')]),unique_together33,867

apps/mentions/migrations/0012_auto_20160301_0645.py,419
class Migration(migrations.Migration):Migration10,215
    dependencies = [dependencies12,255
    operations = [operations16,332
            model_name='merchant',model_name18,382
            name='phone',name19,417
            field=django.contrib.postgres.fields.ArrayField(base_field=localflavor.us.models.PhoneNumberField(blank=True, max_length=20, null=True), blank=True, null=True, size=3),field20,443

apps/mentions/migrations/0001_initial.py,2149
class Migration(migrations.Migration):Migration13,301
    initial = Trueinitial14,340
    dependencies = [dependencies16,360
    operations = [operations19,388
            name='Category',name21,439
            fields=[fields22,468
            name='Mention',name30,802
            fields=[fields31,830
                    verbose_name='created')),verbose_name34,987
                    verbose_name='modified')),verbose_name37,1175
                    choices=[('Not analysed', 'Not analysed'), ('New', 'New'),choices39,1281
                    verbose_name='status changed')),verbose_name46,1763
            options={options70,3268
            name='Merchant',name75,3391
            fields=[fields76,3420
                                                             choices=[('AL',choices92,4339
                                                             max_length=2,max_length210,13936
                                                             null=True)),null211,14011
                                                                  max_length=10,max_length213,14163
                                                                  null=True)),null214,14244
                                                                 max_length=20,max_length216,14400
                                                                 null=True)),null217,14480
            options={options235,15419
            name='Rating',name242,15638
            fields=[fields243,15665
            name='ToDo',name259,16495
            fields=[fields260,16520
                    verbose_name='created')),verbose_name265,16832
                    verbose_name='modified')),verbose_name268,17020
                                                    choices=[(0, 'new'),choices271,17207
                                                    null=True)),null274,17434
                                              on_delete=django.db.models.deletion.CASCADE,on_delete277,17638
                                              to='mentions.Mention')),to278,17729
            options={options280,17815

apps/mentions/migrations/0013_auto_20160302_0507.py,408
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,273
            model_name='merchant',model_name16,324
            name='ceo',name17,359
            model_name='merchant',model_name20,423
            name='contact_info',name21,458
            field=models.CharField(blank=True, max_length=255, null=True),field22,491

apps/mentions/migrations/0030_auto_20160407_0728.py,611
class Migration(migrations.Migration):Migration9,194
    dependencies = [dependencies11,234
    operations = [operations15,311
            model_name='category',model_name17,359
            name='codes',name18,394
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(blank=True, max_length=4, null=True), blank=True, null=True, size=None),field19,420
            model_name='category',model_name22,621
            name='reportable',name23,656
            field=models.BooleanField(choices=[(True, 'Yes'), (False, 'No1.6041-3(c)')], default=True),field24,687

apps/mentions/migrations/0002_auto_20160203_0312.py,1579
class Migration(migrations.Migration):Migration10,222
    initial = Trueinitial11,261
    dependencies = [dependencies13,281
    operations = [operations18,414
            model_name='todo',model_name20,462
            name='user',name21,493
            field=models.ForeignKey(blank=True, null=True,field22,518
                                    on_delete=django.db.models.deletion.CASCADE,on_delete23,577
                                    to=settings.AUTH_USER_MODEL),to24,658
            model_name='rating',model_name27,764
            name='merchant',name28,797
            field=models.ForeignKey(field29,826
                on_delete=django.db.models.deletion.CASCADE,on_delete30,863
                to='mentions.Merchant'),to31,924
            model_name='merchant',model_name34,1005
            name='category',name35,1040
            field=models.ForeignKey(blank=True, null=True,field36,1069
                                    on_delete=django.db.models.deletion.CASCADE,on_delete37,1128
                                    to='mentions.Category'),to38,1209
            model_name='mention',model_name41,1310
            name='merchant',name42,1344
            field=models.ForeignKey(blank=True, null=True,field43,1373
                                    on_delete=django.db.models.deletion.CASCADE,on_delete44,1432
                                    to='mentions.Merchant'),to45,1513
            name='rating',name48,1625
            unique_together=set([('week', 'year', 'merchant')]),unique_together49,1652

apps/mentions/migrations/0025_merge.py,133
class Migration(migrations.Migration):Migration8,148
    dependencies = [dependencies10,188
    operations = [operations15,314

apps/mentions/migrations/0011_auto_20160301_0640.py,1214
class Migration(migrations.Migration):Migration10,223
    dependencies = [dependencies12,263
    operations = [operations16,340
            model_name='merchant',model_name18,390
            name='phone',name19,425
            field=django.contrib.postgres.fields.ArrayField(base_field=localflavor.us.models.PhoneNumberField(blank=True, max_length=20, null=True), blank=True, null=True, size=2),field20,451
            model_name='merchant',model_name23,674
            name='product',name24,709
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(blank=True, max_length=255, null=True), blank=True, null=True, size=None),field25,737
            model_name='merchant',model_name28,942
            name='short_name',name29,977
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(blank=True, max_length=255, null=True), blank=True, null=True, size=3),field30,1008
            model_name='merchant',model_name33,1210
            name='web_page',name34,1245
            field=django.contrib.postgres.fields.ArrayField(base_field=models.URLField(blank=True, null=True), blank=True, null=True, size=None),field35,1274

apps/mentions/migrations/0024_auto_20160322_0635.py,545
def load_mcc(apps, shema_editor):load_mcc12,228
class Migration(migrations.Migration):Migration46,1007
    dependencies = [dependencies48,1047
    operations = [operations52,1111
            model_name='category',model_name54,1161
            name='code',name55,1196
            field=models.PositiveSmallIntegerField(null=True, verbose_name='MCC'),field56,1221
            model_name='category',model_name59,1346
            name='name',name60,1381
            field=models.CharField(max_length=255, null=True),field61,1406

apps/mentions/migrations/0017_merge.py,133
class Migration(migrations.Migration):Migration8,148
    dependencies = [dependencies10,188
    operations = [operations15,314

apps/mentions/__init__.py,90
default_app_config = 'apps.mentions.apps.MentionsAppDefaultConfig'default_app_config1,0

apps/mentions/signals.py,203
def add_periodic_task_for_merchant(sender, instance, created, **kwargs):add_periodic_task_for_merchant13,307
def remove_periodic_tasks(sender, instance, using, **kwargs):remove_periodic_tasks59,1873

apps/mentions/templatetags/__init__.py,0

apps/mentions/templatetags/mentions_filter.py,96
register = template.Library()register5,71
def mentions_filter(tracker):mentions_filter9,124

apps/mentions/managers.py,1008
logger = logging.getLogger(__name__)logger16,376
PERIOD_MONTH = 'month'PERIOD_MONTH18,414
PERIOD_WEEK = 'week'PERIOD_WEEK19,437
STATUS_FLAGGED = 'Flagged'STATUS_FLAGGED20,458
class MentionManager(models.Manager):MentionManager23,487
    def __init__(self):__init__38,835
    def create_mentions(self, merchant, mentions):create_mentions48,1070
    def update_mentions(self, sentiments):update_mentions74,2111
    def get_mentions_for_period(self, merchants, date, period):get_mentions_for_period104,3245
class RatingManager(models.Manager):RatingManager132,4258
    def get_rating(self, merchants, date, period=PERIOD_WEEK):get_rating140,4432
    def get_mention_counts(self, merchants, year, week=None, month=None):get_mention_counts161,5088
    def get_rating_for_period(self, merchants, date, period):get_rating_for_period206,6576
class ToDoManager(models.Manager):ToDoManager250,7918
    def get_todo_count(self, merchants, date, period=PERIOD_MONTH):get_todo_count257,8013

apps/mentions/urls/service_urls.py,42
service_pattern = [service_pattern6,101

apps/mentions/urls/__init__.py,91
urlpatterns = list(chain(iso_pattern, merchant_pattern, tracker_pattern,urlpatterns9,240

apps/mentions/urls/tracker_urls.py,217
tracker_pattern = [tracker_pattern4,83
        name='tracker-mentions'),name7,244
        name='tracker-create'),name9,336
        name='tracker-update'),name11,438
        name='tracker-delete'),name13,540

apps/mentions/urls/iso_urls.py,365
iso_pattern = [iso_pattern4,97
        name='response_rate_iso'),name16,508
        name='merchant_response'),name20,647
        name='industry_complaints_chart'),name24,823
        name='iso_mention_chart'),name28,978
        name='lowest_ranked'),name35,1226
        name='confirmed_import'),name42,1479
        name='semantria_hook'),name49,1714

apps/mentions/urls/merchant_urls.py,260
merchant_pattern = [merchant_pattern6,85
        name='mention_list'),name18,545
        name='reset_mentions'),name21,655
        name='todo_list'),name28,924
        name='mention_update_view'),name31,1024
        name='update_todo'),name35,1158

apps/mentions/urls/statistics_urls.py,125
statistics_pattern = [statistics_pattern6,97
        name='by_source'),name10,286
        name='by_source'),name12,376

apps/mentions/utils/__init__.py,0

apps/mentions/utils/apifier.py,295
logger = logging.getLogger(__name__)logger9,146
class Apifier(object):Apifier12,185
    def __init__(self, crawler, bbb_url):__init__17,267
    def _set(self):_set21,372
    def _run(self):_run37,899
    def retrieve(self):retrieve49,1220
    def parse(self, content):parse71,1994

apps/mentions/utils/tool_tester.py,44
def fake_rating(request):fake_rating7,170

apps/mentions/utils/analyzer.py,1176
logger = logging.getLogger(__name__)logger21,581
class GoogleCrawler(object):GoogleCrawler24,620
    def __init__(self, acc_id, merchant, token=None, secret=None):__init__38,1033
    def get_credentials(self):get_credentials44,1219
    def get_query_string(merchant, field_name):get_query_string59,1781
        def get_filtered(value):get_filtered75,2335
        def prepare(terms_list):prepare82,2554
    def create_query(merchant):create_query102,3244
    def start_search(self):start_search141,4440
class Sentiment(object):Sentiment163,5196
    def __init__(self, acc_id, mentions=None, token=None, secret=None):__init__173,5500
    def get_credentials(self):get_credentials179,5691
    def start_sentiment(self):start_sentiment194,6259
class BaseAnalyzer(object):BaseAnalyzer207,6714
    CRAWLER = NoneCRAWLER218,7079
    ANALYZER = NoneANALYZER219,7098
    def __init__(self, account_id, merchant):__init__221,7119
    def crawl(self):crawl227,7350
    def analyze(self, mentions):analyze235,7553
class Analyzer(BaseAnalyzer):Analyzer248,7924
    CRAWLER = GoogleCrawlerCRAWLER255,8133
    ANALYZER = SentimentANALYZER256,8161

apps/mentions/utils/google_sdk.py,1205
logger = logging.getLogger(__name__)logger24,589
class ParserNotFound(Exception): passParserNotFound27,628
class GoogleCustomSearchSDK(object):GoogleCustomSearchSDK30,668
    def __init__(self, query, devKey, engine_cx):__init__39,957
    def start_search(self):start_search59,1889
    def get_values(self, search):get_values67,2059
class CustomParser(object):CustomParser94,2990
    parser = Noneparser111,3779
    def __init__(self, item, searchTerms=None):__init__113,3798
    def create_mention(self, text='', date=None, author=''):create_mention125,4247
    def get_results(self):get_results143,4862
class ParserFabric(CustomParser):ParserFabric152,5090
    def set_parser(self):set_parser159,5242
class YelpParser(CustomParser):YelpParser179,5887
    def parse(self):parse186,6042
class RipOfReportParser(CustomParser):RipOfReportParser239,7678
    def parse(self):parse244,7782
class BBBParser(CustomParser):BBBParser278,8987
    def parse(self):parse285,9140
class FacebookParser(CustomParser):FacebookParser347,10946
    def parse(self):parse352,11037
class GooglePlusParser(CustomParser):GooglePlusParser395,12887
    def parse(self):parse400,12983

apps/mentions/utils/semantria_analyser.py,571
logger = logging.getLogger(__name__)logger12,339
def chunk(lst, count):chunk15,378
class SemantraAnalyzer(object):SemantraAnalyzer31,733
    def __init__(self, token, secret):__init__38,944
    def put_sentiment_queue(self, session, data):put_sentiment_queue42,1040
    def match_mentions(self, mention, sentiment):match_mentions84,2467
    def get_sentiment_stauses(self, session, comments):get_sentiment_stauses106,3468
    def get_sentiment_results(self, session, comments):get_sentiment_results123,4014
    def semant(self, mentions):semant147,5103

apps/mentions/utils/service_scripts.py,762
logger = logging.getLogger()logger16,428
__all__ = ['start_search', 'calculate_rating', 'create_fake_rating',__all__19,489
def start_search(request, pk=None):start_search25,735
def calculate_rating(request, pk=None):calculate_rating44,1275
def create_fake_rating(request):create_fake_rating60,1686
def check_creation_date_for_mentions(request):check_creation_date_for_mentions73,1992
def check_rating_creation_date(request):check_rating_creation_date89,2438
def analyze_all_mentions(request, pk=None):analyze_all_mentions100,2661
def randomize_mentions(request):randomize_mentions121,3278
def generate_hash(request):generate_hash139,3796
def generate_fake_sentiments(merchant_id, recalculate_ratings=False):generate_fake_sentiments157,4263

apps/mentions/utils/flynsarmy_paginator/__init__.py,0

apps/mentions/utils/flynsarmy_paginator/flynsarmy_paginator.py,456
class FlynsarmyPaginator(Paginator):FlynsarmyPaginator4,52
    def __init__(self, object_list, per_page, orphans=0,__init__11,282
    def page(self, number):page21,836
class FlynsarmyPage(Page):FlynsarmyPage32,1259
    def __init__(self, object_list, number, paginator, adjacent_pages=0):__init__38,1445
    def _get_page_range_data(self):_get_page_range_data42,1641
    page_range_data = property(_get_page_range_data)page_range_data69,2629

apps/mentions/utils/semantria/authrequest.py,1368
OAuthVersion = "1.0"OAuthVersion18,314
OAuthParameterPrefix = "oauth_"OAuthParameterPrefix19,335
OAuthConsumerKeyKey = "oauth_consumer_key"OAuthConsumerKeyKey20,367
OAuthVersionKey = "oauth_version"OAuthVersionKey21,410
OAuthSignatureMethodKey = "oauth_signature_method"OAuthSignatureMethodKey22,444
OAuthSignatureKey = "oauth_signature"OAuthSignatureKey23,495
OAuthTimestampKey = "oauth_timestamp"OAuthTimestampKey24,533
OAuthNonceKey = "oauth_nonce"OAuthNonceKey25,571
class AuthRequest:AuthRequest28,603
    apiVersion = "3.8"apiVersion29,622
    def __init__(self, consumerKey, consumerSecret, applicationName,__init__31,646
    def authWebRequest(self, method, url, postData):authWebRequest38,935
    def getApiVersion(self):getApiVersion73,2106
    def setApiVersion(self, apiVersion):setApiVersion76,2167
    def generateQuery(self, method, url, timestamp, nonce):generateQuery79,2246
    def generateAuthHeader(self, query, timestamp, nonce):generateAuthHeader91,2668
    def getNormalizedParameters(self, timestamp, nonce):getNormalizedParameters114,3414
    def getMD5Hash(self, str_):getMD5Hash129,3982
    def getSHA1(self, md5cs, query):getSHA1138,4227
    def generateTimestamp(self):generateTimestamp148,4603
    def generateNonce(self, length=20):generateNonce151,4669
    def escape(self, s):escape154,4785

apps/mentions/utils/semantria/version.py,48
WRAPPER_VERSION = '3.8.82'WRAPPER_VERSION4,26

apps/mentions/utils/semantria/__init__.py,0

apps/mentions/utils/semantria/jsonserializer.py,210
class JsonSerializer:JsonSerializer9,104
    def gettype(self):gettype10,126
    def serialize(self, obj, wrapper=None):serialize13,172
    def deserialize(self, string, handler=None):deserialize33,921

apps/mentions/utils/semantria/error.py,53
class SemantriaError(Exception):SemantriaError4,26

apps/mentions/utils/semantria/session.py,4160
class Session(object):Session16,287
    host = 'https://api.semantria.com'host17,310
    wrapperName = 'Python/' + WRAPPER_VERSIONwrapperName18,349
    def __init__(self, consumerKey, consumerSecret, serializer=None,__init__20,396
    def registerSerializer(self, serializer):registerSerializer56,1666
    def getApiVersion(self):getApiVersion63,1911
    def setApiVersion(self, apiVersion):setApiVersion66,1981
    def getStatus(self):getStatus69,2069
    def getSupportedFeatures(self, language):getSupportedFeatures73,2215
    def getSubscription(self):getSubscription80,2467
    def getStatistics(self, configId=None, interval=None):getStatistics84,2631
    def getConfigurations(self):getConfigurations109,3738
    def addConfigurations(self, items):addConfigurations116,3983
    def updateConfigurations(self, items):updateConfigurations119,4072
    def cloneConfiguration(self, name, template):cloneConfiguration128,4433
    def removeConfigurations(self, config_id):removeConfigurations134,4612
    def getBlacklist(self, config_id=None):getBlacklist145,5056
    def addBlacklist(self, items, config_id=None):addBlacklist158,5555
    def updateBlacklist(self, items, config_id=None):updateBlacklist161,5661
    def removeBlacklist(self, items, config_id=None):removeBlacklist176,6283
    def getCategories(self, config_id=None):getCategories190,6911
    def addCategories(self, items, config_id=None):addCategories203,7416
    def updateCategories(self, items, config_id=None):updateCategories206,7524
    def removeCategories(self, items, config_id=None):removeCategories221,8152
    def getQueries(self, config_id=None):getQueries235,8781
    def addQueries(self, items, config_id=None):addQueries248,9268
    def updateQueries(self, items, config_id=None):updateQueries251,9370
    def removeQueries(self, items, config_id=None):removeQueries266,9980
    def getPhrases(self, config_id=None):getPhrases281,10592
    def addPhrases(self, items, config_id=None):addPhrases294,11089
    def updatePhrases(self, items, config_id=None):updatePhrases297,11191
    def removePhrases(self, items, config_id=None):removePhrases312,11811
    def getEntities(self, config_id=None):getEntities327,12433
    def addEntities(self, items, config_id=None):addEntities340,12926
    def updateEntities(self, items, config_id=None):updateEntities343,13030
    def removeEntities(self, items, config_id=None):removeEntities358,13639
    def queueDocument(self, task, config_id=None):queueDocument373,14250
    def queueBatch(self, batch, config_id=None):queueBatch390,14977
    def getDocument(self, doc_id, config_id=None):getDocument408,15735
    def cancelDocument(self, doc_id, config_id=None):cancelDocument422,16348
    def getProcessedDocuments(self, config_id=None):getProcessedDocuments436,16951
    def getProcessedDocumentsByJobId(self, job_id):getProcessedDocumentsByJobId448,17392
    def queueCollection(self, task, config_id=None):queueCollection459,17851
    def getCollection(self, coll_id, config_id=None):getCollection477,18627
    def cancelCollection(self, coll_id, config_id=None):cancelCollection492,19309
    def getProcessedCollections(self, config_id=None):getProcessedCollections506,19978
    def getProcessedCollectionsByJobId(self, job_id):getProcessedCollectionsByJobId518,20421
    def _getTypeHandler(self, type_):_getTypeHandler529,20890
    def _getTypeWrapper(self, type_):_getTypeWrapper561,22255
    def _runRequest(self, method, url, type_=None, postData=None):_runRequest589,23557
    def _resolveError(self, status, message=None):_resolveError621,24707
class SessionEvent:SessionEvent629,25031
    def __init__(self, sender):__init__630,25051
    def handle(self, handler):handle634,25143
    def unhandle(self, handler):unhandle638,25230
    def fire(self, *args, **kwargs):fire646,25463
    def getHandlerCount(self):getHandlerCount650,25589
    __iadd__ = handle__iadd__653,25655
    __isub__ = unhandle__isub__654,25677
    __call__ = fire__call__655,25701
    __len__ = getHandlerCount__len__656,25721

apps/mentions/tasks.py,768
logger = logging.getLogger(__name__)logger29,863
def get_runned_tasks():get_runned_tasks32,902
def calculate_rating(merchant, date):calculate_rating56,1453
def calculate_mentions_count(merchant, date, period):calculate_mentions_count98,2550
def update_rating(rating, merchant, date, period):update_rating128,3609
def set_rating(*, merchant_id):set_rating148,4266
def analyze_mentions(analyzer, *, merchant_id):analyze_mentions206,5829
def get_query(*, merchant_id):get_query244,6813
def clear_temporary_table():clear_temporary_table286,7896
def recalculate_rating(*, merchant_id=None):recalculate_rating296,8184
def check_rating_date():check_rating_date354,9835
def bulk_merchant_import(merchants, users, request):bulk_merchant_import379,10485

apps/mentions/tests/__init__.py,0

apps/mentions/tests/tests_iso.py,1620
class TestDashboardView(TestCase):TestDashboardView17,380
    def setUp(self):setUp22,466
    def test_view(self):test_view27,638
class TestLowestRankedMerchants(TestCase):TestLowestRankedMerchants38,934
    def setUp(self):setUp43,1031
    def test_view(self):test_view48,1187
class TestAddMerchantView(TestCase):TestAddMerchantView59,1495
    def setUp(self):setUp64,1580
    def test_post(self):test_post71,1830
class TestTracker(TestCase):TestTracker83,2297
    def setUp(self):setUp90,2415
    def test_tracker_list(self):test_tracker_list98,2735
    def test_tracker_mentions_list(self):test_tracker_mentions_list108,3036
    def test_tracker_create(self):test_tracker_create118,3411
    def test_tracker_update(self):test_tracker_update127,3740
    def test_tracker_delete(self):test_tracker_delete136,4089
class TestMentionsChartView(TestCase):TestMentionsChartView147,4462
    def setUp(self):setUp152,4550
    def test_view(self):test_view157,4706
class TestBigFiveView(TestCase):TestBigFiveView168,5006
    def setUp(self):setUp173,5082
    def test_view(self):test_view178,5238
class TestSolvedTodoView(TestCase):TestSolvedTodoView189,5532
    def setUp(self):setUp194,5615
    def test_view(self):test_view199,5771
class TestComplaintsView(TestCase):TestComplaintsView210,6068
    def setUp(self):setUp215,6152
    def test_view(self):test_view220,6308
class TestScoreView(TestCase):TestScoreView231,6605
    def setUp(self):setUp236,6676
    def test_view(self):test_view241,6832
    def test_merchant_score(self):test_merchant_score251,7123

apps/mentions/tests/tests_merchant.py,330
class TestMerchantDetail(TestCase):TestMerchantDetail17,478
    def setUp(self):setUp24,598
    def test_view(self):test_view31,848
class TestToDo(TestCase):TestToDo41,1146
    def setUp(self):setUp48,1290
    def test_create_todo(self):test_create_todo57,1682
    def test_update_todo(self):test_update_todo78,2469

apps/mentions/tests/factories.py,2758
def setup_view(view, request, *args, **kwargs):setup_view8,158
class TrackerFactory(factory.django.DjangoModelFactory):TrackerFactory20,441
    class Meta:Meta27,607
        model = Trackermodel28,623
    social_networks = [s[0] for s in Mention.TARGET_SITES]social_networks30,648
class MentionFactory(factory.django.DjangoModelFactory):MentionFactory33,709
    class Meta:Meta40,863
        model = Mentionmodel41,879
    u_id = str(uuid.uuid4()).replace("-", "")u_id43,904
class MerchantFactory(factory.django.DjangoModelFactory):MerchantFactory46,952
    class Meta:Meta50,1069
        model = Merchantmodel51,1085
    official_name = factory.Faker('company')official_name53,1111
    short_name = [factory.Faker('company'), factory.Faker('company'),short_name54,1156
    web_page = [factory.Faker('url'), ]web_page56,1270
    address = factory.Faker('street_address')address57,1310
class AccountFactory(factory.django.DjangoModelFactory):AccountFactory60,1358
    class Meta:Meta67,1519
        model = Accountmodel68,1535
class UserFactory(factory.django.DjangoModelFactory):UserFactory71,1561
    class Meta:Meta78,1748
        model = AppUsermodel79,1764
    first_name = factory.Faker('first_name')first_name81,1789
    last_name = factory.Faker('last_name')last_name82,1834
    username = factory.Faker('user_name')username83,1877
    email = factory.Faker('email')email84,1919
class WeekRatingFactory(factory.django.DjangoModelFactory):WeekRatingFactory87,1956
    class Meta:Meta92,2078
        model = Ratingmodel93,2094
    merchant = MerchantFactory()merchant95,2118
    year = factory.Faker('year')year96,2151
    week = random.randint(1, 53)week97,2184
    mentions_count = random.randint(0, 1000)mentions_count98,2217
    pos_mentions = random.randint(0, mentions_count)pos_mentions99,2262
    neg_mentions = random.randint(0, (mentions_count - pos_mentions))neg_mentions100,2315
    open_todo = random.randint(0, 500)open_todo101,2385
    solved_todo = random.randint(0, open_todo)solved_todo102,2424
class MonthRatingFactory(factory.django.DjangoModelFactory):MonthRatingFactory105,2473
    class Meta:Meta110,2597
        model = Ratingmodel111,2613
    merchant = MerchantFactory()merchant113,2637
    year = factory.Faker('year')year114,2670
    month = random.randint(1, 12)month115,2703
    mentions_count = random.randint(0, 1000)mentions_count116,2737
    pos_mentions = random.randint(0, mentions_count)pos_mentions117,2782
    neg_mentions = random.randint(0, (mentions_count - pos_mentions))neg_mentions118,2835
    open_todo = random.randint(0, 500)open_todo119,2905
    solved_todo = random.randint(0, open_todo)solved_todo120,2944

apps/mentions/views/merchant.py,3527
__all__ = ['MerchantDetail', 'FilteredToDo', 'FilteredMentions', 'UpdateToDo',__all__25,1116
class MerchantDetail(CustomLoginRequiredMixin, DetailView):MerchantDetail30,1313
    template_name = "merchant/analytics.html"template_name35,1543
    context_object_name = 'company'context_object_name36,1589
    def get_queryset(self):get_queryset38,1626
    def get_context_data(self, **kwargs):get_context_data51,2084
class FilteredToDo(CustomLoginRequiredMixin, FilterView):FilteredToDo64,2504
    model = ToDomodel74,2825
    template_name = 'merchant/todo.html'template_name75,2842
    paginator_class = FlynsarmyPaginatorpaginator_class76,2883
    page_kwarg = 'todo'page_kwarg77,2924
    paginate_by = 10paginate_by78,2948
    adjacent_pages = 2adjacent_pages79,2969
    filterset_class = ResolvedFilterfilterset_class80,2992
    def get_merchant(self):get_merchant82,3030
    def get_queryset(self):get_queryset98,3506
    def get_paginator(self, *args, **kwargs):get_paginator114,3921
class UpdateToDo(CustomLoginRequiredMixin, DetailView):UpdateToDo126,4249
    def get_queryset(self):get_queryset130,4352
    def update_rating(self, todo):update_rating142,4758
    def get(self, request, *args, **kwargs):get179,5970
class FilteredMentions(CustomLoginRequiredMixin, FilterView):FilteredMentions189,6280
    template_name = 'merchant/mentions.html'template_name199,6608
    paginator_class = FlynsarmyPaginatorpaginator_class200,6653
    page_kwarg = 'page'page_kwarg201,6694
    paginate_by = 5paginate_by202,6718
    adjacent_pages = 2adjacent_pages203,6738
    filterset_class = AssignedFilterfilterset_class204,6761
    excluded_statuses = [Mention.NOT_ANALYSED]excluded_statuses205,6798
    def get_merchant(self):get_merchant207,6846
    def get_queryset(self):get_queryset223,7322
    def get_paginator(self, *args, **kwargs):get_paginator239,7718
    def get_context_data(self, **kwargs):get_context_data250,8045
class AddToDoView(CustomLoginRequiredMixin, AjaxableResponseMixin, CreateView):AddToDoView262,8573
    model = ToDomodel266,8697
    form_class = AddToDoModelFormform_class267,8714
    def get_success_url(self):get_success_url269,8749
    def set_rating(self, mention):set_rating276,8959
    def form_valid(self, form, **kwargs):form_valid294,9583
    def get_form_kwargs(self):get_form_kwargs308,10001
class FakeMention(CustomLoginRequiredMixin, CreateView):FakeMention329,10836
    model = Mentionmodel334,10991
    template_name = 'merchant/fake_mention.html'template_name335,11011
    fields = ['merchant', 'mention_date', 'mention_link', 'mention_text',fields336,11060
    def get_success_url(self):get_success_url341,11312
    def get_initial(self):get_initial348,11532
    def form_valid(self, form):form_valid356,11749
                         UpdateView):MerchantUpdateView361,11897
    model = Merchantmodel367,12040
    form_class = MerchantModelFormform_class368,12061
    def get_queryset(self):get_queryset370,12097
    def form_valid(self, form, **kwargs):form_valid382,12431
class MentionFlagToggle(CustomLoginRequiredMixin, View):MentionFlagToggle386,12515
    def get(self, request, merchant_id, mention_u_id):get393,12698
class ResetMentionsView(AccessRequiredMixin, SingleObjectMixin, View):ResetMentionsView418,13446
    model = Merchantmodel425,13706
    def reset_mentions(self, merchant):reset_mentions427,13728
    def get(self, request, **kwargs):get432,13895

apps/mentions/views/filters.py,1069
class ResolvedFilter(FilterSet):ResolvedFilter8,127
    STATUS_CHOICES = (STATUS_CHOICES15,320
    status = MethodFilter(status21,446
        action='filter_status',action22,473
        widget=forms.widgets.Select(choices=STATUS_CHOICES,widget23,505
                                    attrs={'class': 'form-control'}))attrs24,565
    class Meta:Meta26,636
        model = ToDomodel27,652
        fields = ['status']fields28,673
    def filter_status(self, queryset, value):filter_status30,702
class AssignedFilter(FilterSet):AssignedFilter48,1178
    MENTIONS_CHOICES = (MENTIONS_CHOICES57,1465
    mention_status = MethodFilter(mention_status64,1625
        action='filter_status',action65,1660
        widget=forms.widgets.Select(choices=MENTIONS_CHOICES,widget66,1692
                                    attrs={'class': 'form-control'}))attrs67,1754
    class Meta:Meta69,1825
        model = ToDomodel70,1841
        fields = ['mention_status']fields71,1862
    def filter_status(self, queryset, value):filter_status73,1899

apps/mentions/views/trackers.py,1845
__all__ = ['TrackerList', 'TrackerCreateView', 'TrackerUpdateView',__all__11,441
class TrackerAjaxableResponseMixin(AjaxableResponseMixin):TrackerAjaxableResponseMixin15,570
    def form_valid(self, form):form_valid29,859
class TrackerList(CustomLoginRequiredMixin, ListView):TrackerList42,1253
    model = Trackermodel48,1413
    template_name = 'iso/trackers.html'template_name49,1433
    context_object_name = 'trackers'context_object_name50,1473
    def get_queryset(self):get_queryset52,1511
    def get_context_data(self, **kwargs):get_context_data64,1839
                        CreateView):TrackerCreateView85,2669
    model = Trackermodel94,2880
    form_class = TrackerModelFormform_class95,2900
    template_name = 'iso/trackers/tracker_form.html'template_name96,2934
    def get_success_url(self):get_success_url98,2988
    def form_valid(self, form, **kwargs):form_valid103,3128
                        UpdateView):TrackerUpdateView115,3434
    model = Trackermodel121,3571
    form_class = TrackerModelFormform_class122,3591
    template_name = 'iso/trackers/tracker_form.html'template_name123,3625
    def get_success_url(self):get_success_url125,3679
    def form_valid(self, form, **kwargs):form_valid130,3819
    def get_context_data(self, **kwargs):get_context_data139,3986
                        DetailView):TrackerDeleteView157,4682
    model = Trackermodel166,4902
    def get_queryset(self):get_queryset168,4923
    def get(self, request, *args, **kwargs):get171,5008
                              ListView):TrackerMentionsListView182,5297
    paginate_by = 30paginate_by191,5544
    template_name = "iso/trackers/mentions_list.html"template_name192,5565
    def get(self, request, *args, **kwargs):get194,5620
    def get_queryset(self):get_queryset198,5789

apps/mentions/views/iso.py,4292
__all__ = ['DashboardView', 'ComplaintsView', 'AddMerchantView',__all__38,1284
PERIOD_WEEK = 'week'PERIOD_WEEK44,1612
PERIOD_MONTH = 'month'PERIOD_MONTH45,1633
ALLOWED_PERIODS = [PERIOD_WEEK, PERIOD_MONTH]ALLOWED_PERIODS46,1656
def hexcolor(string):hexcolor49,1704
def download_sample(request):download_sample62,1991
def get_date_and_period(request):get_date_and_period80,2488
def get_merchant_set(request, all=False):get_merchant_set107,3255
def get_legend_for_period(date, period, iteration):get_legend_for_period142,4412
def filter_mentions(request):filter_mentions173,5614
class DashboardView(CustomLoginRequiredMixin, ListView):DashboardView200,6258
    template_name = 'iso/dashboard/dashboard.html'template_name206,6408
    context_object_name = 'merchants'context_object_name207,6459
    def get_context_data(self, **kwargs):get_context_data209,6498
    def get_queryset(self):get_queryset226,7075
class ComplaintsView(CustomLoginRequiredMixin, ListView):ComplaintsView246,7756
    template_name = 'iso/dashboard/complaints.html'template_name250,7891
    context_object_name = 'complaints'context_object_name251,7943
    def get_queryset(self):get_queryset253,7983
                      CreateView):AddMerchantView265,8370
    form_class = AddMerchantFormform_class276,8746
    template_name = ''template_name277,8779
    def form_valid(self, form):form_valid279,8803
    def form_invalid(self, form):form_invalid305,9503
class SolvedTodoView(CustomLoginRequiredMixin, TemplateView):SolvedTodoView321,9913
    def get_template_names(self):get_template_names326,10036
    def get_todo_quantity(self):get_todo_quantity337,10488
    def get_context_data(self, **kwargs):get_context_data383,12015
class BigFiveView(CustomLoginRequiredMixin, TemplateView):BigFiveView400,12610
    template_name = 'iso/dashboard/charts/big_five.html'template_name404,12724
    def get_context_data(self, **kwargs):get_context_data406,12782
class MentionsChartView(CustomLoginRequiredMixin, View):MentionsChartView451,14148
    def get_ratings(self):get_ratings455,14254
    def get(self, request, *args, **kwargs):get498,16102
class ScoreView(CustomLoginRequiredMixin, View):ScoreView509,16420
    def get_all_merchant_score(self, date, period):get_all_merchant_score513,16563
    def get_all_industry_score(self, date, period):get_all_industry_score540,17390
    def get_merchant_score(self, date, period):get_merchant_score565,18167
    def get_industry_score(self, date, period):get_industry_score585,18871
    def get_chart_data(self):get_chart_data616,19946
    def get_average_rating(self):get_average_rating660,22016
    def get(self, request, *args, **kwargs):get675,22692
class LowestRankedMerchantsView(CustomLoginRequiredMixin, ListView):LowestRankedMerchantsView762,25649
    template_name = 'iso/dashboard/tables/lowest_ranked.html'template_name768,25902
    page_kwarg = 'page'page_kwarg769,25964
    paginator_class = FlynsarmyPaginatorpaginator_class770,25988
    paginate_by = 5paginate_by771,26029
    adjacent_pages = 2  # parameter for FlynsarmyPaginatoradjacent_pages772,26049
    def get_paginator(self, *args, **kwargs):get_paginator774,26109
    def get_queryset(self):get_queryset783,26423
    def get_context_data(self, **kwargs):get_context_data845,29074
class BulkImportView(CustomLoginRequiredMixin, FormView):BulkImportView856,29387
    form_class = ImportMerchantsFormform_class860,29513
    template_name = 'iso/import.html'template_name861,29550
    def form_valid(self, form):form_valid863,29589
    def form_invalid(self, form):form_invalid875,30027
class ConfirmedMerchantImportView(CustomLoginRequiredMixin, TemplateView):ConfirmedMerchantImportView889,30437
    template_name = 'iso/confirmed.html'template_name894,30731
    def import_merchants(self):import_merchants896,30773
    def get_context_data(self, **kwargs):get_context_data969,34240
class SemantriaHookView(CsrfExemptMixin, View):SemantriaHookView975,34408
    def post(self, request, *args, **kwargs):post980,34531
class IndustryComplaintsChartView(CustomLoginRequiredMixin, View):IndustryComplaintsChartView1002,35249
    def get(self, request, *args, **kwargs):get1009,35454

apps/mentions/views/__init__.py,0

apps/mentions/views/statistics.py,708
def get_complaints_by_source(merchants, date, period):get_complaints_by_source15,459
class StatisticsView(CustomLoginRequiredMixin, ListView):StatisticsView61,1609
    template_name = 'statistics/statistics.html'template_name67,1768
    context_object_name = 'merchants'context_object_name68,1817
    def get_context_data(self, **kwargs):get_context_data70,1856
    def get_queryset(self):get_queryset84,2267
class ComplaintsBySource(CustomLoginRequiredMixin, View):ComplaintsBySource99,2768
    def get(self, request, *args, **kwargs):get106,2927
class ComplaintsOverTime(CustomLoginRequiredMixin, View):ComplaintsOverTime149,4374
    def get(self, request, *args, **kwargs):get156,4534

apps/mentions/views/mixins.py,287
class CustomLoginRequiredMixin(LoginRequiredMixin):CustomLoginRequiredMixin5,106
    redirect_field_name = Noneredirect_field_name17,646
class AccessRequiredMixin(CustomLoginRequiredMixin):AccessRequiredMixin20,679
    def dispatch(self, request, *args, **kwargs):dispatch28,883

apps/mentions/forms/forms.py,3131
class TrackerModelForm(forms.ModelForm):TrackerModelForm18,724
    class Meta:Meta25,908
        model = Trackermodel26,924
        fields = ('merchant', 'social_networks')fields27,948
    def __init__(self, *args, **kwargs):__init__29,998
class AddToDoModelForm(forms.ModelForm):AddToDoModelForm56,2214
    user = forms.ModelChoiceField(queryset=AppUser.objects.all(),user66,2489
    priority = forms.ChoiceField(choices=ToDo._PRIORITY, required=True,priority68,2623
                                 label='Priority')label69,2695
    due_date = forms.DateTimeField(error_messages={'invalid': 'error'})due_date70,2746
    class Meta:Meta72,2819
        model = ToDomodel73,2835
        fields = ('user', 'comment', 'priority', 'due_date')fields74,2856
    def __init__(self, *args, **kwargs):__init__76,2918
    def clean_due_date(self):clean_due_date81,3093
class MerchantModelForm(forms.ModelForm):MerchantModelForm89,3374
    official_name = forms.CharField(max_length=255, label='Business Name')official_name115,4445
    phone = CustomMultiValueField(field=USPhoneNumberField(), count=3,phone116,4520
    short_name = CustomMultiValueField(count=3, required=False,short_name118,4666
                                       label='Alt Business Name (optional)')label119,4730
    product = CustomMultiValueField(count=3, required=False,product120,4807
                                    label='Product Name(s)')label121,4868
    address = forms.CharField(max_length=255, required=False,address122,4929
                              label='Business Address 1')label123,4991
    web_page = CustomMultiValueField(count=5, required=False,web_page124,5049
                                     label='Business URL(s)')label125,5111
    city = forms.CharField(max_length=255, required=False, label='')city126,5173
    state = USStateField(required=False, label='', widget=USStateSelect())state127,5242
    zip_code = USZipCodeField(required=False, label='')zip_code128,5317
    dda = forms.CharField(max_length=255, label='DDA (Descriptor)',dda129,5373
                          required=False)required130,5441
    ceo = CustomMultiValueField(count=3, required=False,ceo131,5483
                                label='Key Personnel')label132,5540
    category = MerchantCategoryModelChoiceField(category133,5595
      queryset=Category.objects.order_by('name', 'code'), required=False,queryset134,5644
      label='Industry')label135,5718
    contact_info = forms.CharField(max_length=255, required=False,contact_info136,5742
                                   label='Contact Info')label137,5809
    location = AltLocationField(required=False, label='Business Address 2')location138,5866
    def __init__(self,  *args, **kwargs):__init__140,5943
    class Meta:Meta154,6387
        model = Merchantmodel155,6403
        fields = ['official_name', 'short_name', 'address', 'city', 'state',fields156,6428
        widgets = {widgets160,6704
class AddMerchantForm(MerchantModelForm):AddMerchantForm166,6865
    def save(self, request):save173,7019

apps/mentions/forms/__init__.py,0

apps/mentions/forms/fields.py,606
class CustomMultiValueField(forms.MultiValueField):CustomMultiValueField11,237
    def __init__(self, field=None, count=1, *args, **kwargs):__init__21,564
    def compress(self, values):compress33,1052
class AltLocationField(forms.MultiValueField):AltLocationField37,1146
    widget = AltLocationWidgetwidget44,1335
    def __init__(self, *args, **kwargs):__init__46,1367
    def compress(self, values):compress60,1767
class MerchantCategoryModelChoiceField(forms.ModelChoiceField):MerchantCategoryModelChoiceField64,1839
    def label_from_instance(self, obj):label_from_instance72,2100

apps/mentions/forms/widgets.py,919
class TextInputMultiWidget(forms.MultiWidget):TextInputMultiWidget15,310
    template = (template33,966
    button_template = (button_template37,1083
    widget = forms.TextInputwidget41,1253
    def __init__(self, count=1, attrs=None):__init__43,1283
    def format_output(self, rendered_widgets):format_output54,1664
    def decompress(self, value):decompress76,2325
class AltLocationWidget(forms.MultiWidget):AltLocationWidget91,2693
    template = (template104,3023
    def __init__(self, attrs=None):__init__114,3426
    def format_output(self, rendered_widgets):format_output128,3875
    def decompress(self, value):decompress140,4277
class ArrayCheckboxSelectMultiple(CheckboxSelectMultiple):ArrayCheckboxSelectMultiple153,4605
    def value_from_datadict(self, data, files, name):value_from_datadict161,4828
    def render(self, name, value, attrs=None, choices=()):render164,4927

apps/mentions/forms/layouts.py,625
add_btn = HTML('<a href="#" class="btn btn-rounded sm btn-blue pull-right 'add_btn3,58
class DivCol6(Div):DivCol68,241
    css_class = "col-md-6 col-xs-6"css_class14,358
class DivRow(Div):DivRow17,396
    css_class = "row"css_class23,492
merchant_layout = Layout(merchant_layout26,516
                    css_class='col-md-5 pl0 pr0'),css_class34,789
                    css_class='col-md-4 pr0 pl10'),css_class36,894
                    css_class='col-md-3 pl10 pr0')css_class38,1004
                css_class='phone-masked-input'),css_class47,1273
        css_class="text-center mt25"css_class63,1956

apps/mentions/admin/filters.py,306
class RatingsMonthWeekListFilter(admin.SimpleListFilter):RatingsMonthWeekListFilter4,35
    title = 'Month or week ratings'title7,175
    parameter_name = 'type'parameter_name8,211
    def lookups(self, request, model_admin):lookups10,240
    def queryset(self, request, queryset):queryset16,391

apps/mentions/admin/forms.py,224
class ImportMerchantsForm(forms.Form):ImportMerchantsForm11,216
    csv_file = forms.FileField(label='.csv file')csv_file16,385
    def __init__(self, *args, **kwargs):__init__23,717
    def clean(self):clean41,1398

apps/mentions/admin/__init__.py,0

apps/mentions/admin/admin.py,2643
__all__ = ['MerchantAdmin', 'MentionAdmin', 'MentionAdmin', 'RatingAdmin',__all__12,481
class MerchantAdmin(DjangoObjectActions, admin.ModelAdmin):MerchantAdmin17,616
    actions = ['search_mentions']actions23,793
    change_actions = ['search_mentions']change_actions24,828
    list_display = ('official_name', 'category', 'start_date', 'sources',list_display25,870
    list_select_related = Truelist_select_related27,986
    search_fields = ['official_name']search_fields28,1018
    fieldsets = [fieldsets29,1057
    def search_mentions(modeladmin, request, queryset):search_mentions45,1831
class MentionAdmin(admin.ModelAdmin):MentionAdmin71,2886
    list_display = ('u_id', 'merchant', 'origin_site', '_mention_text',list_display74,2994
    list_filter = ('merchant', 'origin_site', 'sentiment', 'status')list_filter76,3134
    date_hierarchy = 'modified'date_hierarchy77,3204
    def _mention_text(self, obj):_mention_text79,3239
class RatingAdmin(admin.ModelAdmin):RatingAdmin86,3405
    list_display = ('merchant', 'week', 'month', 'year', 'rating',list_display89,3511
    list_editable = ('week', 'month', 'year', 'rating',list_editable92,3722
    readonly_fields = ('created',)readonly_fields95,3901
    list_filter = ('merchant', RatingsMonthWeekListFilter,)list_filter96,3937
class ToDoAdmin(admin.ModelAdmin):ToDoAdmin100,4025
    fields = ['comment', 'user', 'mention', 'is_closed']fields104,4129
    list_display = ('comment', 'is_closed', 'created',list_display105,4187
    def _mod_week(self, obj):_mod_week108,4279
class TrackerAdmin(admin.ModelAdmin):TrackerAdmin113,4386
    list_display = ('merchant', 'social_networks')list_display118,4542
    list_display_links = ('merchant',)list_display_links119,4594
    list_select_related = Truelist_select_related120,4634
class CategoryMerchantFilter(admin.SimpleListFilter):CategoryMerchantFilter123,4670
    title = 'merchants'title127,4800
    parameter_name = 'merchant'parameter_name128,4825
    def lookups(self, request, model_admin):lookups130,4860
    def queryset(self, request, queryset):queryset136,5085
class CategoryAdmin(admin.ModelAdmin):CategoryAdmin141,5215
    def merchants(self, obj):merchants148,5357
    list_display = ('name', 'code', 'codes', 'reportable', 'merchants')list_display154,5522
    list_filter = ('merchants',)list_filter155,5595
    list_select_related = Truelist_select_related156,5629
class TemporaryAdmin(admin.ModelAdmin):TemporaryAdmin160,5700
    list_display = ('merchant', 'created')list_display164,5804
    list_filter = ('merchant',)list_filter165,5848

apps/mentions/admin/utils.py,1443
class CustomCSValidator(object):CustomCSValidator16,393
    r_official_name = r'^[\w*\s*\D]{1,254}'r_official_name30,967
    r_zip_code = r'^\d{5}(?:-\d{4})?$'r_zip_code31,1011
    r_phone = r'^(?:1-?)?(\d{3})[-\.]?(\d{3})[-\.]?(\d{4})$'r_phone32,1050
    r_username = r'^[\w*]{3,16}$'r_username33,1111
    r_password = r'^[\w*]{6,18}$'r_password34,1145
    def __init__(self, row, index, merchants):__init__36,1180
    def __bool__(self):__bool__46,1479
    def set_message(self, message):set_message49,1532
    def official_name(self):official_name53,1625
    def state(self):state57,1721
    def zip_code(self):zip_code61,1801
    def sources(self):sources65,1887
    def phones(self):phones69,1971
    def urls(self):urls79,2264
    def industry_name(self):industry_name92,2585
    def user_email(self):user_email96,2681
    def _validate_name(self):_validate_name99,2757
    def _validate_state(self):_validate_state147,4954
    def _validate_zip(self):_validate_zip162,5465
    def _validate_phone(self):_validate_phone175,5936
    def _validate_url(self):_validate_url189,6472
    def _validate_industry(self):_validate_industry206,7084
    def _validate_user_email(self):_validate_user_email232,8268
    def _validate_sources(self):_validate_sources269,9828
    def apply_validators(self):apply_validators279,10146
def parse_merchants_csv(opened_file):parse_merchants_csv294,10557

apps/mentions/models.py,8793
class Category(models.Model):Category23,632
    _REPORTABLE_CHOICES = ((True, 'Yes'), (False, 'No1.6041-3(c)'))_REPORTABLE_CHOICES38,1206
    name = models.CharField(max_length=255, null=True, db_index=True)name40,1275
    code = models.CharField(max_length=16, null=True, verbose_name='MCC')code41,1345
    codes = ArrayField(codes42,1419
    reportable = models.BooleanField(default=True, choices=_REPORTABLE_CHOICES)reportable46,1542
    class Meta:Meta48,1623
        verbose_name = 'Industry'verbose_name49,1639
        verbose_name_plural = 'Industries'verbose_name_plural50,1673
        ordering = ('name', 'code')ordering51,1716
    def __str__(self):__str__53,1753
    def rating(self, extra_filter=None):rating56,1802
class Mention(StatusModel, TimeStampedModel):Mention73,2305
    NEGATIVE = 'negative'NEGATIVE93,3177
    POSITIVE = 'positive'POSITIVE94,3203
    NEUTRAL = 'neutral'NEUTRAL95,3229
    NOT_ANALYSED = 'Not analysed'NOT_ANALYSED96,3253
    NEW = 'New'NEW97,3287
    RESOLVED = 'Resolved'RESOLVED98,3303
    OLD = 'Old'OLD99,3329
    DUPLICATE = 'Dupliciate'DUPLICATE100,3345
    ASSIGNED = 'Assigned'ASSIGNED101,3374
    FLAGGED = 'Flagged'FLAGGED102,3400
    UNASSIGNED = 'Unassigned'UNASSIGNED103,3424
    FACEBOOK = 'www.facebook.com'FACEBOOK104,3454
    YELP = 'www.yelp.com'YELP105,3488
    GOOGLE = 'plus.google.com'GOOGLE106,3514
    BBB = 'www.bbb.org'BBB107,3545
    RIP = 'www.ripoffreport.com'RIP108,3569
    _POLARITY = (_POLARITY109,3602
    SOURCES = OrderedDict({SOURCES114,3719
    TARGET_SITES = [tuple(repeat(k, 2)) for k in SOURCES.keys()]TARGET_SITES136,4197
    STATUS = Choices(STATUS137,4262
    merchant = models.ForeignKey(merchant142,4370
        related_name='mentions',related_name144,4424
        blank=True,blank145,4457
        null=Truenull146,4477
    mention_date = models.DateField(blank=True, null=True)mention_date148,4501
    mention_link = models.CharField(max_length=255, blank=True, null=True)mention_link149,4560
    mention_text = models.TextField(null=True)mention_text150,4635
    mention_type = models.CharField(max_length=15, blank=True, null=True)mention_type151,4682
    mention_author = models.CharField(max_length=255, blank=True, null=True)mention_author152,4756
    sentiment = models.CharField(sentiment153,4833
    origin_site = models.CharField(origin_site156,4937
    is_relevant = models.BooleanField(default=True)is_relevant159,5046
    is_sentiment_fail = models.BooleanField(default=False)is_sentiment_fail160,5098
    sentiment_value = models.FloatField(blank=True, null=True)sentiment_value161,5157
    u_id = models.UUIDField(primary_key=True)u_id162,5220
    text_hash = models.CharField(max_length=255, null=True, blank=True)text_hash163,5266
    objects = MentionManager()objects165,5339
    def closed_todo_count(self):closed_todo_count168,5385
    def overall_todo(self):overall_todo178,5610
    class Meta:Meta187,5793
        ordering = ('-created',)ordering188,5809
        unique_together = ('merchant', 'text_hash')unique_together189,5842
        index_together = ('merchant', 'status')index_together190,5894
    def __str__(self):__str__192,5943
class Merchant(models.Model):Merchant196,5998
    SOURCES_LIST = [source for source in Mention.SOURCES.keys()]SOURCES_LIST226,7275
    official_name = models.CharField(official_name228,7341
    short_name = ArrayField(short_name231,7436
    keywords = models.CharField(max_length=255, blank=True, null=True)keywords235,7574
    exclude_words = models.CharField(exclude_words236,7645
    category = models.ForeignKey(category239,7764
        db_index=Truedb_index241,7865
    web_page = ArrayField(web_page243,7893
    address = models.TextField(blank=True, null=True)address247,8004
    city = models.CharField(max_length=255, blank=True, null=True)city248,8058
    state = USStateField(blank=True, null=True)state249,8125
    zip_code = USZipCodeField(blank=True, null=True)zip_code250,8173
    phone = ArrayField(phone251,8226
    product = ArrayField(product255,8343
    start_date = models.DateTimeField(default=timezone.now)start_date259,8470
    dda = models.CharField(max_length=255, null=True, blank=True)dda260,8530
    chargeback_total = models.IntegerField(blank=True, null=True)chargeback_total261,8596
    chargeback_prevented = models.IntegerField(blank=True, null=True)chargeback_prevented262,8662
    last_search_date = models.DateTimeField(blank=True, null=True)last_search_date263,8732
    mentions_found = models.IntegerField(default=0)mentions_found264,8799
    contact_info = models.CharField(max_length=255, blank=True, null=True)contact_info265,8851
    ceo = ArrayField(ceo266,8926
    email = models.EmailField(max_length=254, blank=True, null=True)email270,9049
    location = models.TextField(blank=True, null=True)location271,9118
    search_settings = JSONField(blank=True, null=True, help_text='JSON')search_settings272,9173
    sources = ArrayField(sources273,9246
        help_text='Enable or disable sources for search.'help_text276,9378
    def get_open_todo_count(self):get_open_todo_count280,9457
    def get_mentions(self, date, period):get_mentions284,9598
    def get_absolute_url(self):get_absolute_url312,10569
    class Meta:Meta315,10663
        verbose_name = 'Merchant'verbose_name316,10679
        verbose_name_plural = 'Merchants'verbose_name_plural317,10713
        ordering = ('official_name',)ordering318,10755
    def __str__(self):__str__320,10794
class ToDo(TimeStampedModel):ToDo324,10853
    HIGH = 0HIGH339,11534
    MIDDLE = 1MIDDLE340,11547
    LOW = 2LOW341,11562
    _PRIORITY = ((HIGH, 'High'), (MIDDLE, 'Middle'), (LOW, 'Low'))_PRIORITY343,11575
    mention = models.ForeignKey(Mention, related_name='todo', blank=True,mention345,11643
    user = models.ForeignKey(settings.AUTH_USER_MODEL, blank=True,user347,11786
                             null=True)null348,11853
    completed = models.DateTimeField(blank=True, null=True)completed349,11893
    comment = models.TextField(blank=True, null=True)comment350,11953
    is_closed = models.BooleanField(default=False, db_index=True)is_closed351,12007
    priority = models.SmallIntegerField(choices=_PRIORITY,priority352,12073
    due_date = models.DateTimeField(blank=True, null=True)due_date354,12195
    objects = ToDoManager()objects356,12255
    class Meta:Meta358,12284
        ordering = ('-created',)ordering359,12300
    def __str__(self):__str__361,12334
    def due_date_retrospective(self):due_date_retrospective365,12405
class Rating(TimeStampedModel):Rating379,12805
    merchant = models.ForeignKey(Merchant, related_name='ratings')merchant398,13555
    year = models.IntegerField()year399,13622
    week = models.IntegerField(blank=True, null=True)week400,13655
    month = models.PositiveSmallIntegerField(blank=True, null=True)month401,13709
    rating = models.FloatField(default=0)rating402,13777
    mentions_count = models.IntegerField(default=0)mentions_count403,13819
    pos_mentions = models.IntegerField(default=0)pos_mentions404,13871
    neg_mentions = models.IntegerField(default=0)neg_mentions405,13921
    solved_todo = models.IntegerField(default=0)solved_todo406,13971
    open_todo = models.IntegerField(default=0)open_todo407,14020
    objects = RatingManager()objects409,14068
    class Meta:Meta411,14099
        index_together = (('merchant', 'week', 'month', 'year'),)index_together413,14184
class Tracker(models.Model):Tracker416,14252
    SOCIAL_CHOICES = [(i[0], i[1].get('label')) forSOCIAL_CHOICES428,14639
    account = models.ForeignKey(Account, related_name='trackers')account431,14744
    merchant = models.ForeignKey(Merchant, related_name='trackers')merchant432,14810
    social_networks = ArrayField(models.CharField(max_length=255, blank=True,social_networks433,14878
                                                  null=True),null434,14956
    search_terms = models.TextField(blank=True)search_terms436,15074
    order = models.IntegerField(default=0)order437,15122
    class Meta:Meta439,15166
        ordering = ('-pk',)ordering440,15182
        verbose_name = 'Tracker'verbose_name441,15210
        verbose_name_plural = 'Trackers'verbose_name_plural442,15243
class TemporaryResults(TimeStampedModel):TemporaryResults445,15286
    merchant = models.ForeignKey(Merchant, related_name='temp_results',merchant454,15605
    google_responce = models.TextField(blank=True, null=True)google_responce456,15733
    semantria_responce = models.TextField(blank=True, null=True)semantria_responce457,15795

apps/mentions/apps.py,199
class MentionsAppDefaultConfig(AppConfig):MentionsAppDefaultConfig4,36
    name = 'apps.mentions'name9,139
    verbose_name = 'Mentions App'verbose_name10,166
    def ready(self):ready12,201

apps/users/migrations/__init__.py,0

apps/users/migrations/0005_auto_20160220_1138.py,920
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,270
            model_name='account',model_name16,321
            old_name='merchant',old_name17,355
            new_name='merchants',new_name18,388
            model_name='account',model_name21,464
            name='type',name22,498
            field=models.CharField(blank=True, choices=[('i', 'ISO'), ('m', 'Merchant')], max_length=1, null=True),field23,523
            model_name='apikey',model_name26,681
            name='api_type',name27,714
            field=models.CharField(choices=[('g', 'Google'), ('s', 'Semantria')], max_length=1),field28,743
            model_name='appuser',model_name31,882
            name='role',name32,916
            field=models.CharField(blank=True, choices=[('a', 'Admin'), ('u', 'User')], max_length=1, null=True),field33,941

apps/users/migrations/0007_auto_20160523_0303.py,295
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,270
            model_name='account',model_name16,320
            name='company_name',name17,354
            field=models.CharField(max_length=255),field18,387

apps/users/migrations/0004_auto_20160216_1203.py,373
class Migration(migrations.Migration):Migration10,203
    dependencies = [dependencies12,243
    operations = [operations16,313
            model_name='appuser',model_name18,363
            name='avatar',name19,397
            field=imagekit.models.fields.ProcessedImageField(blank=True, null=True, upload_to=apps.users.models.upload_user_media_to),field20,424

apps/users/migrations/0002_account_business_name.py,319
class Migration(migrations.Migration):Migration8,156
    dependencies = [dependencies10,196
    operations = [operations14,259
            model_name='account',model_name16,307
            name='business_name',name17,341
            field=models.CharField(blank=True, max_length=255, null=True),field18,375

apps/users/migrations/0006_auto_20160520_0859.py,1243
class Migration(migrations.Migration):Migration9,189
    dependencies = [dependencies11,229
    operations = [operations15,303
            name='account',name17,360
            options={'ordering': ('company_name',), 'verbose_name': 'Account', 'verbose_name_plural': 'Accounts'},options18,388
            model_name='account',model_name21,545
            name='company_name',name22,579
            field=models.CharField(max_length=255),field23,612
            model_name='account',model_name26,706
            name='merchants',name27,740
            field=models.ManyToManyField(blank=True, db_index=True, to='mentions.Merchant'),field28,770
            model_name='apikey',model_name31,905
            name='account',name32,938
            field=models.ManyToManyField(blank=True, db_index=True, to='users.Account'),field33,966
            model_name='appuser',model_name36,1097
            name='account',name37,1131
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='users', to='users.Account'),field38,1159
            name='apikey',name41,1356
            index_together=set([('api_type', 'token', 'secret')]),index_together42,1383

apps/users/migrations/0001_initial.py,1398
class Migration(migrations.Migration):Migration12,282
    initial = Trueinitial14,322
    dependencies = [dependencies16,342
    operations = [operations21,470
            name='AppUser',name23,521
            fields=[fields24,549
            options={options38,2430
            managers=[managers42,2555
            name='Account',name47,2707
            fields=[fields48,2735
            name='APIKey',name58,3400
            fields=[fields59,3427
            model_name='appuser',model_name68,3956
            name='account',name69,3990
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='users.Account'),field70,4018
            model_name='appuser',model_name73,4183
            name='groups',name74,4217
            field=models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.Group', verbose_name='groups'),field75,4244
            model_name='appuser',model_name78,4541
            name='user_permissions',name79,4575
            field=models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.Permission', verbose_name='user permissions'),field80,4612

apps/users/migrations/0003_appuser_avatar.py,377
class Migration(migrations.Migration):Migration10,203
    dependencies = [dependencies12,243
    operations = [operations16,320
            model_name='appuser',model_name18,368
            name='avatar',name19,402
            field=imagekit.models.fields.ProcessedImageField(editable=False, null=True, upload_to=apps.users.models.upload_user_media_to),field20,429

apps/users/forms.py,760
class UserCreationForm(forms.ModelForm):UserCreationForm10,322
    username = forms.CharField(max_length=30, required=True)username16,556
    first_name = forms.CharField(max_length=30, required=True)first_name17,617
    last_name = forms.CharField(max_length=30, required=True)last_name18,680
    email = forms.EmailField(required=True)email19,742
    merchant = forms.ModelChoiceField(queryset=Merchant.objects.all())merchant20,786
    class Meta:Meta22,858
        model = AppUsermodel23,874
        fields = ('avatar', 'username', 'first_name', 'last_name', 'email', )fields24,898
    def __init__(self, merchants, *args, **kwargs):__init__26,977
    def clean_email(self):clean_email55,2249
    def save(self, request):save70,2757

apps/users/middleware.py,133
class UsablePasswordMiddleware(object):UsablePasswordMiddleware5,85
    def process_request(self, request):process_request13,491

apps/users/__init__.py,0

apps/users/adapter.py,308
class SocialAccountAdapter(DefaultSocialAccountAdapter):SocialAccountAdapter7,228
    def pre_social_login(self, request, sociallogin):pre_social_login13,460
class AccountAdapter(DefaultAccountAdapter):AccountAdapter39,1453
    def get_login_redirect_url(self, request):get_login_redirect_url44,1638

apps/users/admin.py,1012
class AppUserAdmin(UserAdmin):AppUserAdmin9,198
    list_display = ('username', 'email', 'account', 'first_name', 'last_name',list_display13,278
    list_display_links = ('username',)list_display_links15,403
    list_select_related = ('account',)list_select_related16,442
    fieldsets = (fieldsets17,481
class AppUserInlineAdmin(FkAdminLink, admin.TabularInline):AppUserInlineAdmin29,964
    model = AppUsermodel32,1088
    fields = ['_username', 'role', 'full_name']fields33,1108
    readonly_fields = fieldsreadonly_fields34,1156
    def has_add_permission(self, request, obj=None):has_add_permission36,1186
    def _username(self, obj):_username39,1261
class AccountAdmin(admin.ModelAdmin):AccountAdmin45,1419
    list_display = ('company_name', 'type',)list_display49,1519
    list_display_links = ('company_name',)list_display_links50,1564
    fields = ['company_name', 'type', 'plan', 'merchants', 'is_active']fields51,1607
    inlines = [AppUserInlineAdmin]inlines52,1679

apps/users/urls.py,73
urlpatterns = [urlpatterns5,92
        name="create_user"),name8,233

apps/users/tests.py,195
fake = Faker()fake12,431
class TestUserViews(TestCase):TestUserViews15,448
    def setUp(self):setUp22,597
    def test_create_user_for_merchant(self):test_create_user_for_merchant29,847

apps/users/views.py,850
__all__ = ['UserUpdateView', 'CreateUserForMerchant', 'CustomConfirmEmailView',__all__15,597
class UserUpdateView(LoginRequiredMixin, UpdateView):UserUpdateView19,715
    fields = ['first_name', 'last_name']fields23,836
    def get_success_url(self):get_success_url25,878
    def get_object(self):get_object28,950
                            FormView):CreateUserForMerchant33,1082
    form_class = UserCreationFormform_class44,1492
    template_name = ''template_name45,1526
    def get_form_kwargs(self):get_form_kwargs47,1550
    def form_valid(self, form):form_valid58,1946
class CustomConfirmEmailView(ConfirmEmailView):CustomConfirmEmailView79,2603
    def login_on_confirm(self, confirmation):login_on_confirm90,3191
class CustomPasswordSetView(CustomLoginRequiredMixin, PasswordSetView):CustomPasswordSetView106,3847

apps/users/models.py,2622
def upload_user_media_to(instance, filename):upload_user_media_to8,197
class Account(models.Model):Account14,434
    ISO = "i"ISO26,943
    MERCHANT = "m"MERCHANT27,957
    _ACCOUNT_TYPES = (_ACCOUNT_TYPES28,976
    _PRICING_PLANS = ((0, 'Simple'), (1, 'Advanced'))_PRICING_PLANS32,1054
    company_name = models.CharField(max_length=255)company_name34,1109
    business_name = models.CharField(max_length=255, blank=True, null=True)business_name35,1161
    type = models.CharField(choices=_ACCOUNT_TYPES, max_length=1, blank=True,type36,1237
                            null=True)null37,1315
    plan = models.PositiveSmallIntegerField(choices=_PRICING_PLANS, blank=True,plan38,1354
                                            null=True)null39,1434
    merchants = models.ManyToManyField('mentions.Merchant',merchants40,1489
    is_active = models.BooleanField(default=True)is_active42,1615
    def __str__(self):__str__44,1666
    class Meta:Meta47,1723
        ordering = ('company_name',)ordering48,1739
        verbose_name = 'Account'verbose_name49,1776
        verbose_name_plural = 'Accounts'verbose_name_plural50,1809
class AppUser(AbstractUser):AppUser53,1852
    ADMIN_ROLE = 'a'ADMIN_ROLE61,2099
    USER_ROLE = 'u'USER_ROLE62,2120
    ROLES = (ROLES63,2140
    account = models.ForeignKey(Account, related_name='users',account67,2215
    role = models.CharField(max_length=1, choices=ROLES, blank=True,role69,2348
                            null=True)null70,2417
    avatar = imagekitmodels.ProcessedImageField(avatar73,2470
    class Meta:Meta78,2674
        verbose_name = 'User'verbose_name79,2690
        verbose_name_plural = 'Users'verbose_name_plural80,2720
    def __str__(self):__str__82,2759
    def full_name(self):full_name86,2826
    def is_merchant(self):is_merchant91,2985
    def is_iso(self):is_iso97,3139
    def is_iso_admin(self):is_iso_admin103,3278
class APIKey(models.Model):APIKey109,3427
    GOOGLE = 'g'GOOGLE119,3723
    SEMANTRIA = 's'SEMANTRIA120,3740
    _API_TYPE = ((GOOGLE, 'Google'), (SEMANTRIA, 'Semantria'))_API_TYPE121,3760
    account = models.ManyToManyField(Account, blank=True, db_index=True)account122,3823
    token = models.CharField(max_length=255)token123,3896
    secret = models.CharField(max_length=255, blank=True, null=True)secret124,3941
    api_type = models.CharField(max_length=1, choices=_API_TYPE)api_type125,4010
    class Meta:Meta127,4076
        index_together = ('api_type', 'token', 'secret')index_together128,4092
    def __str__(self):__str__130,4150

libs/filters.py,230
class ListFilter(django_filters.Filter):ListFilter5,55
    def __init__(self, filter_value=lambda x: x, **kwargs):__init__7,97
    def sanitize(self, value_list):sanitize11,253
    def filter(self, qs, value):filter14,341

libs/api/exceptions.py,887
HTTP_422_BUSINESS_LOGIC = 422HTTP_422_BUSINESS_LOGIC7,176
class CustomAPIException(APIException):CustomAPIException10,208
    code = Nonecode11,248
    message = Nonemessage12,264
    internal = Noneinternal13,283
    more_info = Nonemore_info14,303
    def __init__(self, message=None, extra_payload={}, **kwargs):__init__16,325
class BusinessLogicError(CustomAPIException):BusinessLogicError33,866
    status_code = HTTP_422_BUSINESS_LOGICstatus_code34,912
    code = "ETB0000"code35,954
    message = "Business logic error"message36,975
class PermissionCodeError(CustomAPIException):PermissionCodeError39,1014
    status_code = status.HTTP_403_FORBIDDENstatus_code40,1061
    code = "ETP0000"code41,1105
    message = "You are not allowed to perform this action"message42,1126
def custom_exception_handler(exc, context):custom_exception_handler45,1187

libs/api/decorators.py,118
def push_notification(push_notification_classes=None):push_notification1,0
    def decorator(func):decorator6,123

libs/api/__init__.py,0

libs/api/serializers/__init__.py,0

libs/api/serializers/fields.py,206
class DateTimeFieldWithTZ(serializers.DateTimeField):DateTimeFieldWithTZ5,75
    def enforce_timezone(self, value):enforce_timezone7,130
    def to_representation(self, value):to_representation21,666

libs/api/serializers/mixins.py,123
class UnknownFieldsValidationMixin(object):UnknownFieldsValidationMixin4,41
    def validate(self, attrs):validate6,86

libs/api/viewsets/__init__.py,0

libs/api/viewsets/mixins.py,597
class PushNotificationActionMixin(object):PushNotificationActionMixin4,21
    def push_notification(self, **kwargs):push_notification25,669
class MultiSerializerViewSetMixin(object):MultiSerializerViewSetMixin46,1512
    def get_serializer_class(self):get_serializer_class48,1556
class CustomErrorMessagesMixin(object):CustomErrorMessagesMixin78,2508
    def __init__(self, *args, **kwargs):__init__98,3135
    def replace_validators_messages(self):replace_validators_messages103,3300
    def custom_error_messages_for_validators(self):custom_error_messages_for_validators111,3701

libs/middleware.py,119
class TimezoneMiddleware(object):TimezoneMiddleware5,48
    def process_request(self, request):process_request7,83

libs/__init__.py,0

libs/files.py,92
class JSONFile(File):JSONFile4,37
    content_type = "application/json"content_type5,59

libs/notifications.py,2757
class EmailNotification(object):EmailNotification14,426
    subject = Nonesubject54,2322
    body_text = Nonebody_text55,2341
    body_html = Nonebody_html56,2362
    from_email = Nonefrom_email57,2383
    to_emails = Noneto_emails58,2405
    template_name = Nonetemplate_name59,2426
    context_variables = {}context_variables60,2451
    def __init__(self, context_variables={}):__init__62,2479
    def get_subject(self):get_subject66,2611
    def get_from_email(self):get_from_email69,2667
    def get_to_emails(self):get_to_emails75,2822
    def get_context_variables(self):get_context_variables78,2882
    def convert_class_name(self, name):convert_class_name81,2958
    def get_template_name(self):get_template_name85,3120
    def get_body_text(self):get_body_text91,3305
    def get_body_html(self):get_body_html99,3589
    def send(self, subject=None, body_text=None, from_email=None,send107,3874
class SimplePushNotification(object):SimplePushNotification139,4881
    recepients = Nonerecepients166,5694
    payload = Nonepayload167,5716
    def get_recepients(self):get_recepients169,5736
    def get_payload(self):get_payload172,5798
    def set_payload(self, payload):set_payload175,5854
    def send(self, recepients=None, payload=None):send183,6139
class SMSNotification(object):SMSNotification212,7051
    to = Noneto220,7274
    body = Nonebody221,7288
    from_ = Nonefrom_222,7304
    template_name = Nonetemplate_name223,7321
    context_variables = {}context_variables224,7346
    def __init__(self, context_variables={}):__init__226,7374
    def get_from_(self):get_from_230,7506
    def get_to(self):get_to236,7646
    def get_context_variables(self):get_context_variables239,7692
    def convert_class_name(self, name):convert_class_name242,7768
    def get_template_name(self):get_template_name246,7930
    def get_body(self):get_body252,8124
    def send(self, to=None, from_=None, body=None):send260,8384
class __PushNotificationMetaClass__(type):__PushNotificationMetaClass__283,8914
    def __new__(cls, name, bases, attrs):__new__285,8958
        def _validate_required_params(self):_validate_required_params320,10285
    def add_to_class(cls, name, value):add_to_class333,10807
class PushNotification(object, metaclass=__PushNotificationMetaClass__):PushNotification341,11106
    def __init__(self, **kwargs):__init__364,11915
    def __str__(self):__str__388,12591
    def get_recepients(self):get_recepients391,12655
    def get_badge(self):get_badge400,12974
    def get_payload(self, extra=None):get_payload411,13453
    def send(self, payload=None):send422,13773
    def __call__(self, *args, **kwargs):__call__451,14718

libs/validators.py,107
def validate_phone_number(value):validate_phone_number8,183
def less_than_18(value):less_than_1830,920

libs/utils.py,227
def get_random_filename(filename):get_random_filename10,170
def calculate_age(birthdate):calculate_age16,392
pdf_default_options = {pdf_default_options21,490
def template2pdf(template=None, **kwargs):template2pdf32,711

libs/views/__init__.py,0

libs/views/mixins.py,225
class AjaxableResponseMixin(object):AjaxableResponseMixin4,63
    def dispatch(self, *args, **kwargs):dispatch11,220
    def form_invalid(self, form):form_invalid22,542
    def form_valid(self, form):form_valid27,693

libs/admin/__init__.py,0

libs/admin/mixins/model_admin.py,465
class ForbidDeleteAdd(object):ForbidDeleteAdd9,261
    def has_delete_permission(self, request, obj=None):has_delete_permission11,293
    def has_add_permission(self, request, obj=None):has_add_permission14,371
class FkAdminLink(object):FkAdminLink18,447
    def _admin_url(self, obj, title=None):_admin_url37,945
class AllFieldsReadOnly(object):AllFieldsReadOnly51,1387
    def get_readonly_fields(self, request, obj=None):get_readonly_fields57,1534

libs/admin/mixins/inlines.py,119
class NonEditableInline(ForbidDeleteAdd):NonEditableInline4,43
    extra = 0extra5,85
    max_num = 0max_num6,99

libs/admin/mixins/__init__.py,0

assets/js/_config.js,468
var CONFIG = {CONFIG9,107
var CONFIG = {CONFIG9,107
  BASE: '/',BASE14,150
  get MERCHANT_MANAGER() {MERCHANT_MANAGER19,232
  get TODO_MANAGER() {TODO_MANAGER26,373
  get USER_MANAGER() {USER_MANAGER33,506
  get ISO_MANAGER() {ISO_MANAGER40,614
  get ISO_WIDGETS_MANAGER() {ISO_WIDGETS_MANAGER47,712
  get ISO_TRACKER_MANAGER() {ISO_TRACKER_MANAGER54,819
  get ISO_STATISTICS() {ISO_STATISTICS61,948
  MAX_LABEL_LENGTH: 30MAX_LABEL_LENGTH68,1056

assets/js/ajax.js,5624
var AJAX = (function($, _, Cookies, CONFIG) {AJAX11,140
var AJAX = (function($, _, Cookies, CONFIG) {function11,140
  function _csrfSafeMethod(method) {_csrfSafeMethod23,445
  function _sameOrigin(url) {_sameOrigin35,778
  exports.createMerchant = function(merchant) {Merchant57,1569
  exports.createMerchant = function(merchant) {createMerchant57,1569
  exports.createMerchant = function(merchant) {function57,1569
  exports.updateMerchant = function(merchant) {Merchant72,1883
  exports.updateMerchant = function(merchant) {updateMerchant72,1883
  exports.updateMerchant = function(merchant) {function72,1883
  exports.createUserForMerchant = function(user) {UserForMerchant87,2218
  exports.createUserForMerchant = function(user) {createUserForMerchant87,2218
  exports.createUserForMerchant = function(user) {function87,2218
  exports.getMentionsForMerchant = function(id, statusChoice, pageNumber) {MentionsForMerchant105,2747
  exports.getMentionsForMerchant = function(id, statusChoice, pageNumber) {getMentionsForMerchant105,2747
  exports.getMentionsForMerchant = function(id, statusChoice, pageNumber) {function105,2747
  exports.getTodosForMerchant = function(id, statusChoice, pageNumber) {TodosForMerchant127,3406
  exports.getTodosForMerchant = function(id, statusChoice, pageNumber) {getTodosForMerchant127,3406
  exports.getTodosForMerchant = function(id, statusChoice, pageNumber) {function127,3406
  exports.toggleTodoStatus = function(id) {TodoStatus146,3843
  exports.toggleTodoStatus = function(id) {toggleTodoStatus146,3843
  exports.toggleTodoStatus = function(id) {function146,3843
  exports.createTodoForMention = function(todo) {TodoForMention159,4120
  exports.createTodoForMention = function(todo) {createTodoForMention159,4120
  exports.createTodoForMention = function(todo) {function159,4120
  exports.mentionFlagToggle = function(params) {FlagToggle174,4446
  exports.mentionFlagToggle = function(params) {mentionFlagToggle174,4446
  exports.mentionFlagToggle = function(params) {function174,4446
  exports.getDataForIndustriesComplaintsChart = function(params) {DataForIndustriesComplaintsChart192,4885
  exports.getDataForIndustriesComplaintsChart = function(params) {getDataForIndustriesComplaintsChart192,4885
  exports.getDataForIndustriesComplaintsChart = function(params) {function192,4885
  exports.getDataForPerfomanceTrackingChart = function(params) {DataForPerfomanceTrackingChart209,5301
  exports.getDataForPerfomanceTrackingChart = function(params) {getDataForPerfomanceTrackingChart209,5301
  exports.getDataForPerfomanceTrackingChart = function(params) {function209,5301
  exports.getDataForMentionsChart = function(params) {DataForMentionsChart226,5677
  exports.getDataForMentionsChart = function(params) {getDataForMentionsChart226,5677
  exports.getDataForMentionsChart = function(params) {function226,5677
  exports.getLowestRankedMerchants = function(params) {LowestRankedMerchants243,6068
  exports.getLowestRankedMerchants = function(params) {getLowestRankedMerchants243,6068
  exports.getLowestRankedMerchants = function(params) {function243,6068
  exports.getComplaintsForISO = function(params) {ComplaintsForISO258,6414
  exports.getComplaintsForISO = function(params) {getComplaintsForISO258,6414
  exports.getComplaintsForISO = function(params) {function258,6414
  exports.getDataForResponseRateChart = function(params) {DataForResponseRateChart273,6755
  exports.getDataForResponseRateChart = function(params) {getDataForResponseRateChart273,6755
  exports.getDataForResponseRateChart = function(params) {function273,6755
  exports.getDataForMerchantResponseRateChart = function(params) {DataForMerchantResponseRateChart288,7116
  exports.getDataForMerchantResponseRateChart = function(params) {getDataForMerchantResponseRateChart288,7116
  exports.getDataForMerchantResponseRateChart = function(params) {function288,7116
  exports.getDataForSolvedUnsolvedWidget = function(params) {DataForSolvedUnsolvedWidget303,7511
  exports.getDataForSolvedUnsolvedWidget = function(params) {getDataForSolvedUnsolvedWidget303,7511
  exports.getDataForSolvedUnsolvedWidget = function(params) {function303,7511
  exports.getDataForBigFiveWidget = function(params) {DataForBigFiveWidget318,7878
  exports.getDataForBigFiveWidget = function(params) {getDataForBigFiveWidget318,7878
  exports.getDataForBigFiveWidget = function(params) {function318,7878
  exports.getMentionsForTracker = function(id, params) {MentionsForTracker335,8270
  exports.getMentionsForTracker = function(id, params) {getMentionsForTracker335,8270
  exports.getMentionsForTracker = function(id, params) {function335,8270
  exports.getDataForComplaintsBySourceChart = function(params) {DataForComplaintsBySourceChart353,8695
  exports.getDataForComplaintsBySourceChart = function(params) {getDataForComplaintsBySourceChart353,8695
  exports.getDataForComplaintsBySourceChart = function(params) {function353,8695
  exports.getDataForComplaintsOverTimeChart = function(params) {DataForComplaintsOverTimeChart369,9085
  exports.getDataForComplaintsOverTimeChart = function(params) {getDataForComplaintsOverTimeChart369,9085
  exports.getDataForComplaintsOverTimeChart = function(params) {function369,9085
  exports.init = function() {init384,9360
  exports.init = function() {function384,9360
      beforeSend: function(xhr, settings) {Send386,9408
      beforeSend: function(xhr, settings) {function386,9408
      beforeSend: function(xhr, settings) {beforeSend386,9408

assets/js/app.js,847
var Popover = (function($) {Popover10,173
var Popover = (function($) {function10,173
  exports.open = function(popover, placement, container) {open22,544
  exports.open = function(popover, placement, container) {function22,544
      content: function() {function27,699
      content: function() {content27,699
  exports.close = function(popover) {close41,1002
  exports.close = function(popover) {function41,1002
function MentionDetailView(mention) {MentionDetailView54,1260
function TodoDetailView(todo) {TodoDetailView67,1620
function setRangeDisplay(clbk) {setRangeDisplay81,2000
  var dateStartStr = $('#current_date').text(),StartStr82,2033
    periodStr = $('#toggle_period .active').data('period'),Str87,2165
      week: {week92,2353
      month: {month97,2473
  if (typeof clbk !== 'undefined') {if127,3660

assets/js/application.js,1861
var APP = (function($, _, alertify) {APP10,101
var APP = (function($, _, alertify) {function10,101
  exports.msg = {msg18,254
    show: function(msgObject) {function30,651
    show: function(msgObject) {show30,651
    success: function(message) {function33,741
    success: function(message) {success33,741
        TYPE: 'success',TYPE35,792
    error: function(message) {function39,859
    error: function(message) {error39,859
        TYPE: 'error',TYPE41,908
  exports.spinner = {spinner55,1175
    show: function(waitable) {function56,1197
    show: function(waitable) {show56,1197
    hide: function(waitable) {function59,1271
    hide: function(waitable) {hide59,1271
    toggle: function(container) {function62,1348
    toggle: function(container) {toggle62,1348
  exports.getFilterParams = function() {FilterParams79,1780
  exports.getFilterParams = function() {getFilterParams79,1780
  exports.getFilterParams = function() {function79,1780
      keyword = keywords.filter(function(keyword) {filter83,1974
    if (keyword) {if89,2129
  exports.showMessages = function() {Messages107,2510
  exports.showMessages = function() {showMessages107,2510
  exports.showMessages = function() {function107,2510
    if ($messages.length > maxMessagesCount) {if111,2610
    _.each($messages, function(e, s) {each115,2678
  exports.init = function() {init125,2850
  exports.init = function() {function125,2850
    _.templateSettings = {templateSettings129,3002
    _.templateSettings = {Settings129,3002
      _create: function() {function139,3350
      _create: function() {create139,3350
      _renderItem: function(ul, item) {Item144,3518
      _renderItem: function(ul, item) {function144,3518
      _renderItem: function(ul, item) {renderItem144,3518
    $(function() {function151,3777

assets/js/charts.js,4759
var CHARTS = (function($, _, Chart) {CHARTS10,146
var CHARTS = (function($, _, Chart) {function10,146
  exports.buildPerformanceTrackerChart = function(scores, xLegend) {PerformanceTrackerChart22,434
  exports.buildPerformanceTrackerChart = function(scores, xLegend) {buildPerformanceTrackerChart22,434
  exports.buildPerformanceTrackerChart = function(scores, xLegend) {function22,434
        elements: {elements29,621
          point: {point30,641
        legend: {legend34,705
          labels: {labels37,780
        scales: {scales42,872
            gridLines: {gridLines44,910
            gridLines: {Lines44,910
    _.each(scores, function(score) {each51,1011
    if ('chartTracking' in charts) {if63,1330
  exports.buildMentionsChart = function(negative, positive, neutral,MentionsChart82,1793
  exports.buildMentionsChart = function(negative, positive, neutral,buildMentionsChart82,1793
        elements: {elements122,2839
          point: {point123,2859
        legend: {legend127,2923
          labels: {labels130,2998
        scales: {scales135,3090
            gridLines: {gridLines137,3128
            gridLines: {Lines137,3128
    if ('mentionsChart' in charts) {if144,3229
  exports.buildMerchantMentionsChart = function(negative, positive, neutral) {MerchantMentionsChart162,3638
  exports.buildMerchantMentionsChart = function(negative, positive, neutral) {buildMerchantMentionsChart162,3638
  exports.buildMerchantMentionsChart = function(negative, positive, neutral) {function162,3638
      LABELS_COUNT = 7,LABELS_COUNT164,3747
        scales: {scales197,4586
        legend: {legend205,4736
          labels: {labels208,4808
    if ('merchantMentionsChart' in charts) {if215,4909
  exports.buildResponseRateChart = function(container, solved, unsolved) {ResponseRateChart233,5379
  exports.buildResponseRateChart = function(container, solved, unsolved) {buildResponseRateChart233,5379
  exports.buildResponseRateChart = function(container, solved, unsolved) {function233,5379
        legend: {legend251,5825
        tooltips: {tooltips254,5879
    if ('responseRate' in charts) {if259,5944
      animation: {animation266,6132
  exports.buildIndustriesComplaintsChart = function(container, labels,IndustriesComplaintsChart280,6476
  exports.buildIndustriesComplaintsChart = function(container, labels,buildIndustriesComplaintsChart280,6476
    if ('industriesComplaints' in charts) {if289,6924
      data: {data295,7131
      options: {options302,7293
        legend: {legend304,7340
        tooltips: {tooltips307,7394
          callbacks: {callbacks309,7453
            title: function(tooltip) {function311,7508
            title: function(tooltip) {title311,7508
            label: function(tooltip) {function315,7696
            label: function(tooltip) {label315,7696
  exports.buildSparklineChart = function(container, data) {SparklineChart334,8180
  exports.buildSparklineChart = function(container, data) {buildSparklineChart334,8180
  exports.buildSparklineChart = function(container, data) {function334,8180
        legend: {legend337,8298
        tooltips: {tooltips340,8352
        elements: {elements343,8408
          point: {point344,8428
        scales: {scales348,8492
      data: {data363,8806
  exports.buildComplaintsBySourceChart = function(container, id, data) {ComplaintsBySourceChart381,9248
  exports.buildComplaintsBySourceChart = function(container, id, data) {buildComplaintsBySourceChart381,9248
  exports.buildComplaintsBySourceChart = function(container, id, data) {function381,9248
    if ('complaintsBySourceChart' + chartId in charts) {if385,9387
      data: {data391,9598
      options: {options413,10352
        legend: {legend414,10369
  exports.buildComplaintsOverTimeChart = function(container, id, data) {ComplaintsOverTimeChart429,10721
  exports.buildComplaintsOverTimeChart = function(container, id, data) {buildComplaintsOverTimeChart429,10721
  exports.buildComplaintsOverTimeChart = function(container, id, data) {function429,10721
    if ('complaintsOverTimeChart' + chartId in charts) {if434,10881
    _.each(data.datasets, function(item) {each438,11006
      data: {data452,11367
      options: {options456,11446
        elements: {elements457,11463
          point: {point458,11483
        legend: {legend462,11547
          labels: {labels464,11595
        scales: {scales469,11687
            gridLines: {gridLines471,11725
            gridLines: {Lines471,11725
  exports.getCharts = function() {Charts480,11838
  exports.getCharts = function() {getCharts480,11838
  exports.getCharts = function() {function480,11838

assets/js/events.js,565
var EVENTS = (function() {EVENTS11,163
var EVENTS = (function() {EVENTS11,163
var EVENTS = (function() {function11,163
  exports.subscribe = function(topic, listener) {subscribe25,562
  exports.subscribe = function(topic, listener) {function25,562
      remove: function() {function37,883
      remove: function() {remove37,883
  exports.publish = function(topic, info) {publish49,1150
  exports.publish = function(topic, info) {function49,1150
    forEach(function(item) {forEach58,1398
      item(info !== undefined ? info : {});info59,1427

assets/js/form.js,1856
var FORM = (function($, _) {FORM12,182
var FORM = (function($, _) {function12,182
  exports.clearErrors = function(form) {Errors25,547
  exports.clearErrors = function(form) {clearErrors25,547
  exports.clearErrors = function(form) {function25,547
  exports.clearForm = function(form) {Form36,804
  exports.clearForm = function(form) {clearForm36,804
  exports.clearForm = function(form) {function36,804
  exports.insertErrors = function(form, data) {Errors50,1153
  exports.insertErrors = function(form, data) {insertErrors50,1153
  exports.insertErrors = function(form, data) {function50,1153
    $.each($.parseJSON(data.responseText), function(k, v) {function54,1284
  exports.getSearchSettings = function(form) {SearchSettings66,1655
  exports.getSearchSettings = function(form) {getSearchSettings66,1655
  exports.getSearchSettings = function(form) {function66,1655
    var defaultSettings = {Settings67,1702
      settingsExists = Boolean(settings && !(settings === 'null'));Exists74,1983
  exports.collectSearchSettings = function(form, fields) {SearchSettings86,2318
  exports.collectSearchSettings = function(form, fields) {collectSearchSettings86,2318
  exports.collectSearchSettings = function(form, fields) {function86,2318
    _.each(searchFields, function(settingsList, group) {each94,2592
      _.each(elements, function(value) {each98,2738
        targetId = $(value).attr('id');Id99,2779
  exports.addCheckboxes = function(form) {Checkboxes117,3199
  exports.addCheckboxes = function(form) {addCheckboxes117,3199
  exports.addCheckboxes = function(form) {function117,3199
    _.each(fields, function(value, group) {each124,3386
      _.each(elements, function(value, key) {each127,3493
        targetId = $(value).attr('id');Id129,3604
        checkboxHTML = String(HTML130,3644

assets/js/tools.js,1420
var TOOLS = (function() {TOOLS10,97
var TOOLS = (function() {TOOLS10,97
var TOOLS = (function() {function10,97
  exports.truncatechars = function(string, maxLength) {truncatechars21,450
  exports.truncatechars = function(string, maxLength) {function21,450
    if (string.length > length) {if25,589
  exports.unescapeUnicode = function(value) {Unicode38,845
  exports.unescapeUnicode = function(value) {unescapeUnicode38,845
  exports.unescapeUnicode = function(value) {function38,845
      value.toString().replace(/\\u([\d\w]{4})/gi, function(match, grp) {function40,912
  exports.randomArray = function(length, max) {Array53,1282
  exports.randomArray = function(length, max) {randomArray53,1282
  exports.randomArray = function(length, max) {function53,1282
    var DEFAULT_LENGTH = 10,DEFAULT_LENGTH54,1330
      DEFAULT_MAX = 100,DEFAULT_MAX55,1359
    return Array.apply(Object, Array(maxLength)).map(function() {map59,1523
  exports.getRandomColor = function() {RandomColor69,1738
  exports.getRandomColor = function() {getRandomColor69,1738
  exports.getRandomColor = function() {function69,1738
  exports.getRandomColors = function(length) {RandomColors83,2061
  exports.getRandomColors = function(length) {getRandomColors83,2061
  exports.getRandomColors = function(length) {function83,2061
    return Array.apply(Object, Array(length)).map(function() {map84,2108

assets/js/trackers.js,1900
var Tracker = (function($, _) {Tracker10,110
var Tracker = (function($, _) {function10,110
  function _successCallback(data, status, xhr, form) {_successCallback23,492
  function _errorCallback(data) {_errorCallback47,1233
    $.each($.parseJSON(data.responseText), function(k, v) {function54,1561
  function _getForm(trackerId, form) {_getForm69,2016
    if (trackerId) {if75,2176
  exports.add = function() {add87,2414
  exports.add = function() {function87,2414
    var newTracker = $('.panel.hidden').clone().removeClass('hidden');Tracker90,2534
  exports.remove = function(button) {remove103,2859
  exports.remove = function(button) {function103,2859
  exports.save = function(button) {save119,3266
  exports.save = function(button) {function119,3266
  exports.toggleSettings = function(button) {Settings143,4017
  exports.toggleSettings = function(button) {toggleSettings143,4017
  exports.toggleSettings = function(button) {function143,4017
      $.when(_getForm(trackerId, form)).done(function(form) {done153,4399
        // popover shows if has no class .has-popover..has154,4461
          content: function() {function159,4626
          content: function() {content159,4626
  exports.closeSettings = function() {Settings174,4891
  exports.closeSettings = function() {closeSettings174,4891
  exports.closeSettings = function() {function174,4891
  exports.getMentions = function(trackerId, page) {Mentions186,5263
  exports.getMentions = function(trackerId, page) {getMentions186,5263
  exports.getMentions = function(trackerId, page) {function186,5263
    $.get(url, function(responseData) {get195,5625
      if (!data) {if198,5731
  exports.scrollListener = function(element) {Listener214,6168
  exports.scrollListener = function(element) {scrollListener214,6168
  exports.scrollListener = function(element) {function214,6168

templates/404.html,0

templates/widgets/mentions.html,0

templates/merchant/todo.html,0

templates/merchant/add_todo.html,0

templates/merchant/top_charts.html,0

templates/merchant/analytics.html,1921
  function UserModalDialogController(dialog) {UserModalDialogController54,1609
    function _setUserpic() {_setUserpic75,2102
    function _clearForm() {_clearForm91,2529
    function _clickClose() {_clickClose109,3001
    function _clickSave() {_clickSave119,3162
    function init() {init134,3413
  function MentionController(mention) {MentionController195,5298
    function _clickClose(form) {_clickClose205,5544
    function _clickCreate(form) {_clickCreate215,5761
    function _clickToggleFlag(obj) {_clickToggleFlag250,6845
    function init() {init280,7589
  function MentionsListController(container) {MentionsListController318,8491
    function _htmlCallback() {_htmlCallback327,8724
    function init() {init367,9928
  function TodosListController(container) {TodosListController393,10588
    function init() {init442,11958
  function PerfomanceTrackingChartController(container) {PerfomanceTrackingChartController471,12751
    function _setScore(data) {_setScore480,12967
    function init() {init544,14974
  function MentionsWidgetController(container) {MentionsWidgetController558,15218
    function _setActive(period) {_setActive567,15423
    function init() {init609,16607
  function ResponseRateWidgetController(container) {ResponseRateWidgetController627,17012
    function _setActive(period) {_setActive637,17301
    function init() {init682,18554
  function MerchantModalController(dialog) {MerchantModalController700,18976
    function _clickSave() {_clickSave724,19542
    function _clickClose() {_clickClose769,21008
    function _clickAddField(element) {_clickAddField779,21199
    function _clickRemoveField(element) {_clickRemoveField790,21472
    function init() {init809,21894
  function PageController() {PageController834,22570
    function _updateWidgets(event) {_updateWidgets845,22868
    function init() {init861,23248

templates/merchant/mention_detail.html,0

templates/merchant/resolved_complaints.html,0

templates/merchant/todo_detail.html,0

templates/merchant/add_user.html,0

templates/merchant/mentions.html,0

templates/merchant/fake_mention.html,0

templates/merchant/update_merchant.html,0

templates/merchant/paginator.html,0

templates/merchant/left_panel.html,0

templates/merchant/rigth_panel.html,0

templates/merchant/add_flag.html,0

templates/includes/messages.html,0

templates/includes/navigation.html,0

templates/includes/header.html,0

templates/includes/footer.html,0

templates/iso/confirmed.html,0

templates/iso/trackers.html,88
  function PageController() {PageController81,2235
    function init() {init88,2343

templates/iso/dashboard/dashboard.html,2111
  function MerchantModalController(dialog) {MerchantModalController90,3114
    function _clearForm() {_clearForm114,3678
    function _isCategoryExists(code) {_isCategoryExists129,4141
    function _addInSearch(data) {_addInSearch142,4515
    function _clickCreate() {_clickCreate165,5152
    function _clickClose() {_clickClose202,6274
    function _clickAddField(element) {_clickAddField212,6465
    function _clickRemoveField(element) {_clickRemoveField223,6738
    function init() {init242,7162
  function IndustriesComplaintsChartController(container) {IndustriesComplaintsChartController272,8059
    function init() {init299,8834
  function LowestRankedMerchantsListController(container) {LowestRankedMerchantsListController313,9079
    function _callback() {_callback322,9331
    function init() {init364,10443
  function PerfomanceTrackingChartController(container) {PerfomanceTrackingChartController384,10881
    function _updateAverageRating(data) {_updateAverageRating393,11107
    function init() {init437,12348
  function MentionsChartController(container) {MentionsChartController451,12583
    function init() {init481,13300
  function ComplaintsListController(container) {ComplaintsListController495,13536
    function init() {init523,14128
  function ResponseRateChartController(container) {ResponseRateChartController544,14655
    function init() {init577,15463
  function SolvedUnsolvedWidgetController(container) {SolvedUnsolvedWidgetController591,15704
    function init() {init619,16313
  function BigFiveWidgetController(container) {BigFiveWidgetController633,16551
    function init() {init661,17146
  function FilterController(container) {FilterController677,17441
    function _setAutocomplete() {_setAutocomplete685,17611
    function _clickPeriod(element) {_clickPeriod714,18370
    function _clickDate(element) {_clickDate729,18759
    function init() {init746,19108
  function PageController() {PageController762,19427
    function updateWidgets(event) {updateWidgets776,19810
    function init() {init795,20327

templates/iso/dashboard/tables/biggest_movers.html,0

templates/iso/dashboard/tables/lowest_ranked.html,0

templates/iso/dashboard/tables/least_engaged.html,0

templates/iso/dashboard/tables/most_engaged.html,0

templates/iso/dashboard/complaints.html,0

templates/iso/dashboard/add_merchant.html,0

templates/iso/dashboard/left_panel_import.html,0

templates/iso/dashboard/charts/flagged_resp.html,0

templates/iso/dashboard/charts/solved_unsolved.html,0

templates/iso/dashboard/charts/performance_tracker.html,0

templates/iso/dashboard/charts/big_five.html,0

templates/iso/dashboard/charts/mentions.html,0

templates/iso/dashboard/charts/industries_complaints.html,0

templates/iso/dashboard/charts/response_rate.html,0

templates/iso/dashboard/mentions_filter_form.html,0

templates/iso/dashboard/left_panel.html,0

templates/iso/dashboard/date_toggle.html,0

templates/iso/trackers/tracker_form.html,0

templates/iso/trackers/mentions_list.html,0

templates/iso/trackers/tracker.html,0

templates/iso/trackers/mention.html,0

templates/iso/import.html,0

templates/iso/confirm_creation.html,0

templates/base_content.html,0

templates/account/password_reset.html,0

templates/account/password_reset_from_key.html,0

templates/account/password_set.html,0

templates/account/snippets/add_userpic.html,0

templates/account/snippets/already_logged_in.html,0

templates/account/login.html,0

templates/account/password_reset_done.html,0

templates/account/base.html,0

templates/account/password_change.html,0

templates/500.html,0

templates/base.html,0

templates/users/appuser_form.html,0

templates/statistics/statistics.html,471
  function WidgetController(container) {WidgetController145,5037
    function init() {init217,6998
  function FilterController(container) {FilterController255,7929
    function _clickPeriod(element) {_clickPeriod264,8132
    function _clickDate(element) {_clickDate279,8530
    function init() {init296,8888
  function PageController() {PageController312,9182
    function updateWidgets(params) {updateWidgets325,9527
    function init() {init350,10226
